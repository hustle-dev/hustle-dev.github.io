---
title: ë‹¤ë¥¸ ìƒ‰ê¹” ì°¾ê¸° ê²Œì„ ì œì‘ ì±Œë¦°ì§€
description: ë„˜ë¸” ë‹¤ë¥¸ ìƒ‰ê¹” ì°¾ê¸° ê²Œì„ ì œì‘ ì±Œë¦°ì§€ êµ¬í˜„ê³¼ì •ì— ê´€í•œ ê¸€ì…ë‹ˆë‹¤.
date: 2022-02-11
slug: /numble-different-colors-game-challenge
tags: [ê°œë°œ, React]
heroImage: ./heroImage.png
heroImageAlt: ë„˜ë¸” ë¡œê³ 
---

## ğŸ ì±Œë¦°ì§€ ì‹œì‘

ì„¤ ì—°íœ´ì— ë¬´ì—‡ì„ í• ì§€ ê³ ë¯¼í•˜ë‹¤ê°€ ìš°ì—°ì°®ê²Œ í˜ì´ìŠ¤ë¶ ê´‘ê³ ë¡œ ë„˜ë¸” ì±Œë¦°ì§€ë¥¼ ë³´ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ ì±Œë¦°ì§€ëŠ” **í”„ë¡ íŠ¸ì—”ë“œë¥¼ ëŒ€ìƒìœ¼ë¡œ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ìƒ‰ê¹” ì°¾ê¸° ê²Œì„êµ¬í˜„**í•˜ëŠ” ê²ƒì´ì—ˆëŠ”ë°, ë¦¬ì•¡íŠ¸ì™€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ê²Œì„ì„ êµ¬í˜„í•˜ë©´ì„œ í™œìš© ëŠ¥ë ¥ì„ ì˜¬ë¦¬ê³  ì‹¶ì–´ì„œ ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì°¸ê³  ì‚¬ì´íŠ¸: [[React] ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ìƒ‰ê¹” ì°¾ê¸° ê²Œì„ ì œì‘](https://www.numble.it/920213f2-f9de-4bde-969b-1fbaaaf1983a)

### 1ï¸âƒ£ ë¯¸ì…˜

ì•„ë˜ í˜ì´ì§€ë¥¼ í´ë¡  ì½”ë”©

https://numble-react.vercel.app/

> ë§ˆí¬ì—…ë³´ë‹¤ ë°ì´í„° íë¦„, ì»´í¬ë„ŒíŠ¸ êµ¬ë¶„ì— ì§‘ì¤‘í•˜ì—¬ ì„¤ê³„ë¥¼ ëª©í‘œ

#### ìƒì„¸ ìŠ¤í™

- **`Math.pow(Math.round((stage + 0.5) / 2) + 1, 2)`** ê°œì˜ ì‚¬ê°í˜•ì´ í‘œì‹œë˜ë©°, ê·¸ ì¤‘ í•˜ë‚˜ë§Œ ìƒ‰ê¹”ì´ ë‹¤ë¦…ë‹ˆë‹¤.
- í•œ stageì˜ ì œí•œ ì‹œê°„ì€ 15ì´ˆì…ë‹ˆë‹¤.
- ìƒ‰ì´ ë‹¤ë¥¸ ì‚¬ê°í˜•(ì •ë‹µ)ì„ í´ë¦­í•œ ê²½ìš° ì•„ë˜ ë³€ê²½ì‚¬í•­ì´ ì ìš©ë©ë‹ˆë‹¤.
  - ë‹¤ìŒ ìŠ¤í…Œì´ì§€ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.
  - **`Math.pow(stage, 3) * ë‚¨ì€ì‹œê°„`** ë§Œí¼ì˜ scoreê°€ ëˆ„ì ë©ë‹ˆë‹¤
- ì˜¤ë‹µì„ í´ë¦­í•œ ê²½ìš° ì•„ë˜ ë³€ê²½ì‚¬í•­ì´ ì ìš©ë©ë‹ˆë‹¤.
  - í˜„ì¬ stageì˜ ë‚¨ì€ ì‹œê°„ì´ 3ì´ˆ ì¤„ì–´ë“­ë‹ˆë‹¤.
- ë‚¨ì€ ì‹œê°„ì´ 0ì´ˆ ì´í•˜ê°€ ë˜ë©´ ê²Œì„ì´ ì¢…ë£Œë©ë‹ˆë‹¤. ìµœì¢… stageì™€ ëˆ„ì  scoreë¥¼ ì¶œë ¥í•˜ê³ , ìƒˆë¡œìš´ ê²Œì„ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- stageê°€ ì˜¬ë¼ê°ˆìˆ˜ë¡ ì •ë‹µê³¼ ì˜¤ë‹µì˜ ìƒ‰ìƒ ì°¨ì´ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.

### 2ï¸âƒ£ ì¡°ê±´

- Reactë¥¼ ì‚¬ìš©
- Function Component í™œìš©
- Javascriptë³´ë‹¤ëŠ” Typescriptë¥¼ í™œìš©
- ì„œë²„ì— ë°°í¬í•  ê²ƒ (Vercelê³¼ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©)
- Context, Redux, Mobx, Recoil ë“± ìƒíƒœê´€ë¦¬ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒ

> ê¸°ì¡´ì— ì„œë²„ë¥¼ ë°°í¬í• ë•Œ netlifyì™€ herokuë§Œ ì‚¬ìš©í•´ë³´ì•˜ëŠ”ë° **vercel**ì„ ì‚¬ìš©í•´ë³´ë©´ì„œ ì‰½ê²Œ ì„œë²„ì— ë°°í¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

## ğŸ›  ì„¤ê³„ ë° ì½”ë“œ ì„¤ëª…

### ğŸ–¼ ë§ˆí¬ì—…

ìš°ì„  ë§ˆí¬ì—… ì„¤ê³„ë¥¼ í•˜ê¸° ìœ„í•´ í´ë¡  ì½”ë”©í•  í˜ì´ì§€ì— ë“¤ì–´ê°€ì„œ ë¶„ì„ì„ í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì„¤ê³„ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/b5da4078-0114-4525-879f-e90c1ebb2894/image.png)

`App.tsx`

```tsx
export default function App(): JSX.Element {
  ...
  return (
    <>
      <Header>
        <A11yHidden as="h1">ë‹¤ë¥¸ ìƒ‰ê¹” ì°¾ê¸° ê²Œì„</A11yHidden>
        <Header.GameInfo gameInfo={gameInfo} />
      </Header>
      <Board>
        <Board.List boardData={boardData} onClick={onClick} />
      </Board>
    </>
  );
}
```

ê¸°ì´ˆì ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  ë‚œ í›„, **ì•„ë˜ì™€ ê°™ì€ ê³ ë¯¼**ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

1. ê²Œì„ì— í•„ìš”í•œ ìƒíƒœê°€ ë¬´ì—‡ì´ê³ , ì–´ë–¤ ìƒíƒœë¥¼ ì €ì¥í• ì§€
2. ì´ ìƒíƒœë“¤ì„ ì–´ë””ì„œ, ì–´ë–»ê²Œ ê´€ë¦¬í• ì§€
3. ê²Œì„ì— í•„ìš”í•œ ë°ì´í„°ë“¤ì„ ì–´ë–»ê²Œ ë§Œë“¤ì§€(ë³´ë“œ ê¸°ë³¸ ìƒ‰ìƒê³¼ ì˜¤ë‹µìš© ê¸°ë³¸ ìƒ‰ìƒ êµ¬ë¶„)

### ğŸ“¸ ê²Œì„ì— í•„ìš”í•œ ìƒíƒœ

ê²Œì„ì— í•„ìš”í•œ ìƒíƒœë¥¼ ë³´ê¸°ìœ„í•´ ë‹¤ì‹œ í´ë¡ ì½”ë”©í•  ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ì„œ ë¶„ì„ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹¤ê°€ ì½˜ì†”ì°½ì„ ë³´ê²Œë˜ì—ˆëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ í•­ëª©ë“¤ì„ ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/81b15da5-7dd6-4066-927c-bb42176ff1ee/image.png)

ì´ í•­ëª©ë“¤ì„ ì°¸ê³ í•˜ì—¬ ì €ì¥í•´ì„œ ê´€ë¦¬í•  ìƒíƒœë¥¼ ìƒê°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ **ì•„ë˜ì™€ ê°™ì€ í•­ëª©**ì„ ì €ì¥í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

- **isPlaying**: í”Œë ˆì´ì˜ ì—¬ë¶€ë¥¼ í†µí•œ alertì°½ í‘œì‹œë¥¼ ìœ„í•´ ìƒíƒœê´€ë¦¬
- **stage**: ìµœì¢… ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ stage ìƒíƒœ
- **time**: ì‹œê°„ì´ ì–´ë–»ê²Œ ì§€ë‚˜ê³  ìˆëŠ”ì§€ í‘œì‹œë˜ê¸° ìœ„í•œ ìƒíƒœ
- **score**: ìµœì¢… ê²°ê³¼ì— stageì™€ ê°™ì´ ë³´ì—¬ì¤„ ìµœì¢… ì ìˆ˜ë¥¼ ìœ„í•œ ìƒíƒœ
- **boardColor**: ê¸°ë³¸ Board ìƒ‰ìƒ
- **answerBoardColor**: ì •ë‹µ Board ìƒ‰ìƒ

> ë‚˜ë¨¸ì§€ ìƒíƒœ(answer, onSelect ë“±)ì€ ìŠ¤í…Œì´ì§€ê°€ ì‹œì‘í•˜ê³  ê·¸ ìˆœê°„ì— ë§Œë“¤ì–´ propsë¡œ ì „ë‹¬í•˜ë©´ ëœë‹¤ê³  ìƒê°í•˜ì—¬ ë”°ë¡œ ê´€ë¦¬í•˜ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.

### ğŸ—‚ ìƒíƒœë¥¼ ì–´ë””ì„œ ê´€ë¦¬í• ì§€

ì–´ë–¤ ê²ƒë“¤ì„ ìƒíƒœë¡œ ê´€ë¦¬í• ì§€ ì •í–ˆê³ , ê·¸ ë‹¤ìŒì€ ìƒíƒœë¥¼ ì–´ë””ì„œ ê´€ë¦¬í• ì§€ê°€ ê³ ë¯¼ì´ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ **`App.tsx` ê°€ ìƒíƒœ ë°ì´í„°ë“¤ì´ í•„ìš”í•œ GameInfo, Boardì˜ ê°€ì¥ ê°€ê¹Œìš´ ë¶€ëª¨ì—¬ì„œ ì´ê³³ì—ì„œ ê´€ë¦¬í•˜ê¸°ë¡œ ê²°ì •**í•˜ì˜€ìŠµë‹ˆë‹¤.

### ğŸ’£ ê²Œì„ì— í•„ìš”í•œ ë°ì´í„° ë§Œë“¤ê¸°

ê²Œì„ì— í•„ìš”í•œ ë°ì´í„°ë¡œ stage, scoreëŠ” ì´ë¯¸ ìƒì„¸ ìŠ¤í™ìœ¼ë¡œ ì–´ë–»ê²Œ ë§Œë“¤ì§€ ë‚˜ì™€ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ë˜ì™€ ê°™ì´ **ê¸°ë³¸ ìƒ‰ìƒê³¼ ì •ë‹µì´ ë˜ëŠ” ìƒ‰ìƒê³¼ ìŠ¤í…Œì´ì§€ë³„ Boardì˜ ì‚¬ì´ì¦ˆëŠ” ì–´ë–»ê²Œ êµ¬í˜„í• ì§€ ë‚˜ì™€ìˆì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.**

![](https://images.velog.io/images/hustle-dev/post/91c2c856-3e79-4a67-addf-be5dccd0048c/image.png)

ì´ ìƒ‰ìƒì— ëŒ€í•´ ì¢€ë” ì•Œê¸° ìœ„í•´ ë‹¤ì‹œ í´ë¡ ì½”ë”©í•  ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ ì½˜ì†”ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/1400a7c8-4b43-41f4-8144-1589d89fd71f/image.png)

ì´ ì½˜ì†”ì„ ë³´ë©´ ê·œì¹™ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
ê¸°ë³¸ ìƒ‰ìƒê³¼ ì •ë‹µì´ ë˜ëŠ” ìƒ‰ìƒê°„ì˜ ì°¨ì´ê°€ ì•„ë˜ì™€ ê°™ì´ ì‹ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```ts
Math.max(25 - Math.floor((stage + 1) / 3), 1);
```

> ì´ë¥¼ ì´ìš©í•˜ì—¬ ê¸°ë³¸ ìƒ‰ìƒì— ëº„ì§€ ë§ì•„ì•¼í• ì§€ ê²°ì •ì„ í•˜ì—¬ ì •ë‹µì´ ë˜ëŠ” ìƒ‰ìƒì„ êµ¬í•˜ì˜€ìŠµë‹ˆë‹¤.

BoardItemì˜ ì‚¬ì´ì¦ˆëŠ” ì½˜ì†”ì—ì„œ í™•ì¸í•˜ì˜€ì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ìŠ¤íƒ€ì¼ì„ ê°–ê³ ìˆì—ˆìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/e98572de-b578-45b3-92b3-b8511972f90e/image.png)

ì´ë¥¼ ì´ìš©í•˜ì—¬ stageë§ˆë‹¤ ìƒìì˜ ê°œìˆ˜ì— ë”°ë¥¸ boardë³„ í¬ê¸°ë¥¼ êµ¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```ts
`${(360 - lengthOfBoardRow * 2 * 2) / lengthOfBoardRow}px`;
```

### ğŸ¯ ì£¼ìš” ì½”ë“œ

ì´ë²ˆ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ, ë”°ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ í™œìš©í•˜ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë³´ë‹¤ ë¦¬ì•¡íŠ¸ì˜ ìì²´ í›…ì¸ `useEffect`, `useReducer`, `useMemo`, `useCallback`ë“±ì„ ì‚¬ìš©í•´ë³´ë ¤ê³  ë…¸ë ¥í•˜ì˜€ìŠµë‹ˆë‹¤.

ì£¼ìš” ì½”ë“œë¼ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ëˆ„ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.

- ìƒíƒœê´€ë¦¬ ì½”ë“œ
- íƒ€ì´ë¨¸ êµ¬í˜„ ë¶€ë¶„
- Boardìš© ë°ì´í„° ìƒì„±í•˜ëŠ” ë¶€ë¶„

#### 1. ìƒíƒœê´€ë¦¬ ì½”ë“œ

ìƒíƒœê´€ë¦¬ëŠ” ë¦¬ì•¡íŠ¸ì˜ `useReducer`ë¥¼ í™œìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts
import { getColor, getScore } from 'utils';
import { INITIAL_REMAINING_TIME, INITIAL_STAGE, ONE_SECOND, PENALTY_TIME } from './gameConstants';
import { actionType, stateProps } from './gameReducer.types';

export const initialState = Object.freeze({
  isPlaying: true,
  time: INITIAL_REMAINING_TIME,
  stage: INITIAL_STAGE,
  score: 0,
  ...getColor(INITIAL_STAGE),
});

export function reducer(state: stateProps, action: actionType) {
  switch (action.type) {
    case 'CHOOSE_ANSWER':
      return {
        ...state,
        stage: state.stage + 1,
        time: INITIAL_REMAINING_TIME,
        score: state.score + getScore(state.stage, state.time),
        ...getColor(state.stage + 1),
      };

    case 'CHOOSE_WRONG_ANSWER':
      return {
        ...state,
        time: state.time - PENALTY_TIME < 0 ? 0 : state.time - PENALTY_TIME,
      };

    case 'TICK_TOCK':
      return {
        ...state,
        time: state.time - ONE_SECOND < 0 ? 0 : state.time - ONE_SECOND,
      };

    case 'GAME_OVER':
      return {
        ...state,
        isPlaying: false,
      };

    case 'GAME_RESET':
      return {
        ...initialState,
        ...getColor(INITIAL_STAGE),
      };

    default:
      throw new Error('ì˜ëª»ëœ ë™ì‘ì…ë‹ˆë‹¤.');
  }
}
```

> useStateë¥¼ ì‚¬ìš©í• ì§€ ê³ ë¯¼ì„ í•˜ë‹¤ê°€ **ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê°’ì´ ì—¬ëŸ¬ê°œì—¬ì„œ ìƒíƒœ êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆ ê²ƒ ê°™ì•„ useReducerë¥¼ ì‚¬ìš©**í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

#### 2. íƒ€ì´ë¨¸ êµ¬í˜„ ë¶€ë¶„

íƒ€ì´ë¨¸ëŠ” useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ dispatchì™€ í•¨ê»˜ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
useEffect(() => {
  const intervalID = setInterval(() => {
    dispatch({ type: 'TICK_TOCK' });
  }, 1000);

  if (time === 0) dispatch({ type: 'GAME_OVER' });

  return () => {
    clearInterval(intervalID);
  };
}, [time, dispatch]);
```

> useEffectê°€ ì‹¤í–‰ëœ í›„ì— ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë„£ì—ˆìŠµë‹ˆë‹¤.

#### 3. Boardìš© ë°ì´í„° ìƒì„±í•˜ëŠ” ë¶€ë¶„

boardìš© ë°ì´í„°ëŠ” **ìŠ¤í…Œì´ì§€ë§ˆë‹¤ ë³€ê²½ë˜ê³ , ì–´ëŠì •ë„ ì—°ì‚°ì´ ìˆê¸° ë•Œë¬¸ì— ìµœì í™”ê°€ í•„ìš”**í•  ê²ƒì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ `useMemo`ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
const boardData = useMemo(() => {
  const lengthOfBoardRow = getLengthOfBoardRow(stage);
  const numOfBoardItems = getNumOfBoardItems(lengthOfBoardRow);
  const size = getBoardItemSize(lengthOfBoardRow);
  const answerIndex = getAnswerIndex(0, numOfBoardItems);

  return {
    size,
    numOfBoardItems,
    answerIndex,
  };
}, [stage]);
```

> sizeì™€ boardColorëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°©ë²•ìœ¼ë¡œ êµ¬í•˜ì˜€ìŠµë‹ˆë‹¤.

### ğŸ’¡ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ ì–´ë ¤ì› ë˜ ì /ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ê³¼ í•´ê²°ë°©ë²•

**1. useReducerë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ì—¬ ì„¤ê³„í•˜ëŠ” ë¶€ë¶„**

useReducerí›…ì„ ì²˜ìŒ ì‚¬ìš©í•´ì„œ ì–´ë–¤ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ì§€ ê°ì´ ì¡íˆì§ˆ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ êµ¬ê¸€ë§ì„ í•˜ë‹¤ê°€ ë²¨ë¡œí¼íŠ¸ë‹˜ì´ useReducerì— ëŒ€í•´ [ì‘ì„±í•œ ê¸€](https://react.vlpt.us/basic/20-useReducer.html)ì„ ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ë§ì´ ì°¸ê³ í•˜ì—¬ ë”°ë¼í•´ë³´ë©´ì„œ useReducerë¥¼ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

**2. ì •ë‹µìƒ‰ìƒì„ ê¸°ë³¸ìƒ‰ìƒê³¼ ë¹„êµí•˜ì—¬ ì–´ë–»ê²Œ êµ¬í• ì§€ì— ê´€í•œ ë¶€ë¶„**

ì²˜ìŒì— ì •ë‹µìƒ‰ìƒì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts
const getAnswerBoardColor = ([red, green, blue]: number[], diff: number): string =>
  `rgb(${red + diff > 255 ? red - diff : red + diff},
${green + diff > 255 ? green - diff : green + diff},
${blue + diff > 255 ? blue - diff : blue + diff})`;
```

> ì´ë ‡ê²Œ êµ¬í•˜ê³  ìƒ‰ì„ í™•ì¸í•´ë³´ë‹ˆ ìƒ‰ìƒì˜ ì°¨ì´ê°€ ë„ˆë¬´ ë§ì´ ë‚¬ê³  ì´ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ê°€ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ í´ë¡ ì½”ë”©í•  ì‚¬ì´íŠ¸ë¥¼ ê°€ë³´ì•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ì´ ìŒìˆ˜ ê°’ì„ ì£¼ê³ ìˆì—ˆìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/dc334fbe-215c-473d-a24e-e3fa7d619edd/image.png)

ì´ë ‡ê²Œ ìŒìˆ˜ê°’ì„ ì¤„ ì§€ ìƒê°ì„ í•˜ë‹¤ê°€ rgbì˜ ë²”ìœ„ëŠ” 0~255ë¼ëŠ” ê²ƒì„ ì°¾ì•„ë³´ì•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts
const getAnswerBoardColor = ([red, green, blue]: number[], diff: number): string => `rgb(
${getRandomBoolean() ? Math.min(255, red + diff) : Math.max(0, red - diff)},
${getRandomBoolean() ? Math.min(255, green + diff) : Math.max(0, green - diff)},
${getRandomBoolean() ? Math.min(255, blue + diff) : Math.max(0, blue - diff)})`;
```

> `getRandomBoolean`ì€ ê¸°ë³¸ ìƒ‰ìƒì—ì„œ ëº„ì§€ ë”í• ì§€ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ ì„ì˜ë¡œ trueí˜¹ì€ falseê°’ì„ ë°›ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

**3. ìƒì„±í•  BoardItemì˜ í‚¤ ìƒì„±**

ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œì—ì„œëŠ” ë¦¬ìŠ¤íŠ¸ë Œë”ë§ì„ í•  ì‹œ, ë¦¬ìŠ¤íŠ¸ì˜ keyë¡œ indexë¥¼ ì›¬ë§Œí•˜ì—¬ ì‚¬ìš©í•˜ì§€ ë§ë¼ê³  ì í˜€ìˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ë¡œ ì…”í”Œê³¼ ê°™ì€ ì‘ì—…ì„ í•  ì‹œ ê°œë°œìì˜ ì˜ë„ëŒ€ë¡œ ì‘ë™ë˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ë˜ì„œ ìƒ‰ê¹”ê³¼ idë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë³´ë‚´ì•¼í•˜ë‚˜ ìƒê°ì„ í•´ë³´ì•˜ëŠ”ë° ìŠ¤í…Œì´ì§€ê°€ ì§€ë‚ ë•Œë§ˆë‹¤ boardItemë“¤ì´ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì— **ë©”ëª¨ë¦¬ ì¸¡ë©´ì—ì„œ ì¢‹ì§€ ì•Šì„ ê²ƒì´ë¼ê³  íŒë‹¨**í•˜ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ ê° Itemë“¤ì´ ì…”í”Œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— keyë¥¼ indexë¡œ ì‚¬ìš©í•˜ì—¬ë„ ì¶©ë¶„í•  ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.

**4. ì‹œê°„ì´ 0ì´ˆê°€ ë˜ê¸°ì „ì— ë‚˜ì˜¤ëŠ” ê²½ê³ ì°½**

ì‹œê°„ì´ 0ì´ˆê°€ ë˜ê¸°ì „ì— ë‹¤ìŒê³¼ ê°™ì´ ê²½ê³ ì°½ì´ ëœ¨ëŠ” ì—ëŸ¬ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

![](https://images.velog.io/images/hustle-dev/post/6d01ceac-1aae-4bfa-8ddf-7844637bd343/image.png)

ì´ ë¶€ë¶„ì˜ ê¸°ì¡´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx
useEffect(() => {
  const intervalID = setInterval(() => {
    dispatch({ type: 'TICK_TOCK' });
  }, 1000);

  // timeì´ 0ì´ë˜ë©´ dispatchë¡œ ì¸í•´ isPlayingì´ falseë¡œ ë³€í•¨
  if (time === 0) dispatch({ type: 'GAME_OVER' });

  return () => {
    clearInterval(intervalID);
  };
}, [time, dispatch]);

useEffect(() => {
  if (isPlaying) return;

  window.alert(`GAME OVER!\nìŠ¤í…Œì´ì§€: ${stage}, ì ìˆ˜: ${score}`);

  dispatch({ type: 'GAME_RESET' });
}, [isPlaying, dispatch, stage, score]);
```

> ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `useInterval` ì´ë¼ëŠ” custom hookì„ ì‚¬ìš©í•´ë³´ì•˜ì§€ë§Œ ì‹œì‘í• ë•Œ 15ì´ˆê°€ ì•„ë‹Œ 14ì´ˆë¡œ í‘œì‹œë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ ì•„ë˜ì™€ ê°™ì´ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ `setTimeout`ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
useEffect(() => {
  if (isPlaying) return;

  setTimeout(() => {
    window.alert(`GAME OVER!\nìŠ¤í…Œì´ì§€: ${stage}, ì ìˆ˜: ${score} ${time}`);

    dispatch({ type: 'GAME_RESET' });
  }, 100);
}, [isPlaying, dispatch, stage, score]);
```

### ğŸ”— ìµœì¢… ì½”ë“œ ë ˆí¬ ì£¼ì†Œ ë° ë°°í¬ ì‚¬ì´íŠ¸

ë ˆí¬ì£¼ì†Œ: https://github.com/hustle-dev/numble_challenge

ë°°í¬ì‚¬ì´íŠ¸: https://numble-challenge-kappa.vercel.app/
