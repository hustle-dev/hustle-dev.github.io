{"version":3,"file":"component---src-pages-index-tsx-e0420cf88358cf6f0e9e.js","mappings":"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","sources":["webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Date/Date.tsx","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Date/Date.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Description/Description.tsx","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Description/Description.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/TagList/TagList.tsx","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/TagList/TagList.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Title/Title.tsx","webpack://hustle-dev-blog/./src/views/Home/components/Post/components/Title/Title.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/Post/Post.tsx","webpack://hustle-dev-blog/./src/views/Home/components/Post/Post.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/PostList/PostList.tsx","webpack://hustle-dev-blog/./src/views/Home/components/PostList/PostList.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/RecentPost/RecentPost.tsx","webpack://hustle-dev-blog/./src/views/Home/components/RecentPost/RecentPost.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/TagButtonWithCount/TagButtonWithCount.tsx","webpack://hustle-dev-blog/./src/views/Home/components/TagButtonWithCount/TagButtonWithCount.module.scss","webpack://hustle-dev-blog/./src/views/Home/components/TagList/TagList.tsx","webpack://hustle-dev-blog/./src/views/Home/components/TagList/TagList.module.scss","webpack://hustle-dev-blog/./src/views/Home/Home.module.scss","webpack://hustle-dev-blog/./src/views/Home/constants/Tag.ts","webpack://hustle-dev-blog/./src/views/Home/hooks/useTag.tsx","webpack://hustle-dev-blog/./src/views/Home/Home.tsx","webpack://hustle-dev-blog/./src/views/Home/hooks/usePostInfiniteScroll.tsx"],"sourcesContent":["import clsx from 'clsx'\n\nimport * as styles from './Date.module.scss'\n\ntype DateProps = {\n  date: string\n  className?: string\n}\n\nexport const Date = ({ date, className }: DateProps) => <h3 className={clsx(styles.date, className)}>{date}</h3>\n","// extracted by mini-css-extract-plugin\nexport var date = \"Date-module--date--d77e7\";","import clsx from 'clsx'\n\nimport * as styles from './Description.module.scss'\n\ntype DescriptionProps = {\n  description: string\n  className?: string\n}\n\nexport const Description = ({ description, className }: DescriptionProps) => (\n  <p className={clsx(styles.description, className)}>{description}</p>\n)\n","// extracted by mini-css-extract-plugin\nexport var description = \"Description-module--description--ecdc9\";","import clsx from 'clsx'\n\nimport { Tag } from '@/components'\n\nimport * as styles from './TagList.module.scss'\n\ntype TagListProps = {\n  tags: readonly string[]\n  className?: string\n}\n\nexport const TagList = ({ tags, className }: TagListProps) => (\n  <ul className={clsx(styles.tagList, className)}>\n    {tags.map((tag) => (\n      <Tag key={tag} name={tag} />\n    ))}\n  </ul>\n)\n","// extracted by mini-css-extract-plugin\nexport var tagList = \"TagList-module--tagList--4ae6b\";","import clsx from 'clsx'\n\nimport * as styles from './Title.module.scss'\n\ntype TitleProps = {\n  title: string\n  className?: string\n}\n\nexport const Title = ({ title, className }: TitleProps) => <h3 className={clsx(styles.title, className)}>{title}</h3>\n","// extracted by mini-css-extract-plugin\nexport var title = \"Title-module--title--8cf89\";","import { Link } from 'gatsby'\nimport { GatsbyImage, type IGatsbyImageData } from 'gatsby-plugin-image'\nimport { match } from 'ts-pattern'\n\nimport { getRefinedImage } from '@/utils'\n\nimport { Date, Description, TagList, Title } from './components'\nimport * as styles from './Post.module.scss'\n\ntype PostProps = {\n  variants: 'card' | 'item'\n  title: string\n  description: string\n  date: string\n  tags: readonly string[]\n  slug: string\n  heroImage: IGatsbyImageData | undefined\n  heroImageAlt: string\n}\n\nexport const Post = ({ variants, title, description, date, tags, slug, heroImage, heroImageAlt }: PostProps) => {\n  const image = getRefinedImage(heroImage)\n\n  return (\n    <Link to={`/posts${slug}`} className={styles.articleLink}>\n      {match(variants)\n        .with('card', () => (\n          <article className={styles.card}>\n            <figure>\n              <GatsbyImage image={image} alt={heroImageAlt} className={styles.cardImage} />\n              <figcaption className={styles.cardCaption}>\n                <Date date={date} className={styles.cardDate} />\n                <TagList tags={tags} className={styles.cardTagList} />\n                <Title title={title} className={styles.cardTitle} />\n                <Description description={description} className={styles.cardDescription} />\n              </figcaption>\n            </figure>\n          </article>\n        ))\n        .with('item', () => (\n          <article className={styles.item}>\n            <figure className={styles.itemFigure}>\n              <GatsbyImage image={image} alt={heroImageAlt} className={styles.itemImage} />\n              <figcaption className={styles.itemCaption}>\n                <TagList tags={tags} />\n                <Title title={title} className={styles.itemTitle} />\n                <Description description={description} className={styles.itemDescription} />\n                <Date date={date} className={styles.itemDate} />\n              </figcaption>\n            </figure>\n          </article>\n        ))\n        .exhaustive()}\n    </Link>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var articleLink = \"Post-module--articleLink--b5ab5\";\nexport var card = \"Post-module--card--a4c01\";\nexport var cardCaption = \"Post-module--cardCaption--0aa11\";\nexport var cardDate = \"Post-module--cardDate--c6c0c\";\nexport var cardDescription = \"Post-module--cardDescription--72eec\";\nexport var cardImage = \"Post-module--cardImage--a596d\";\nexport var cardTagList = \"Post-module--cardTagList--5f1d7\";\nexport var cardTitle = \"Post-module--cardTitle--ba640\";\nexport var item = \"Post-module--item--967c1\";\nexport var itemCaption = \"Post-module--itemCaption--6915d\";\nexport var itemDate = \"Post-module--itemDate--33d77\";\nexport var itemDescription = \"Post-module--itemDescription--3070b\";\nexport var itemFigure = \"Post-module--itemFigure--61e4d\";\nexport var itemImage = \"Post-module--itemImage--af857\";\nexport var itemTitle = \"Post-module--itemTitle--e1aa8\";","import clsx from 'clsx'\n\nimport { Post } from '../Post'\nimport * as styles from './PostList.module.scss'\n\ntype PostListProps = {\n  posts: Queries.HomeQuery['allMarkdownRemark']['nodes']\n  className?: string\n}\n\nexport const PostList = ({ posts, className }: PostListProps) => {\n  return (\n    <ul className={clsx(styles.postList, className)}>\n      {posts.map(({ frontmatter: { title, description, date, tags, slug, heroImage, heroImageAlt }, id }) => (\n        <Post\n          key={id}\n          variants=\"item\"\n          title={title}\n          description={description}\n          date={date}\n          tags={tags}\n          slug={slug}\n          heroImage={heroImage?.childImageSharp?.gatsbyImageData}\n          heroImageAlt={heroImageAlt}\n        />\n      ))}\n    </ul>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var postList = \"PostList-module--postList--61751\";","import { Post } from '../Post'\nimport * as styles from './RecentPost.module.scss'\n\ntype RecentPostProps = {\n  posts: Queries.HomeQuery['allMarkdownRemark']['nodes']\n}\n\nexport const RecentPost = ({ posts }: RecentPostProps) => (\n  <>\n    <h2 className={styles.heading}>New posts ðŸ“‘</h2>\n    <ul className={styles.recentPostList}>\n      {posts.map(({ frontmatter: { title, description, date, tags, slug, heroImage, heroImageAlt }, id }) => (\n        <Post\n          key={id}\n          variants=\"card\"\n          title={title}\n          description={description}\n          date={date}\n          tags={tags}\n          slug={slug}\n          heroImage={heroImage?.childImageSharp?.gatsbyImageData}\n          heroImageAlt={heroImageAlt}\n        />\n      ))}\n    </ul>\n  </>\n)\n","// extracted by mini-css-extract-plugin\nexport var heading = \"RecentPost-module--heading--0b9b2\";\nexport var recentPostList = \"RecentPost-module--recentPostList--db855\";","import clsx from 'clsx'\n\nimport * as styles from './TagButtonWithCount.module.scss'\n\ntype TagButtonWithCountProps = {\n  name: string\n  count: number\n  onClick?: () => void\n  isSelected: boolean\n}\n\nexport const TagButtonWithCount = ({ name, count, isSelected, onClick }: TagButtonWithCountProps) => (\n  <button onClick={onClick} className={clsx(styles.tagButton, { [styles.active]: isSelected })}>\n    <span>\n      {name} ({count})\n    </span>\n  </button>\n)\n","// extracted by mini-css-extract-plugin\nexport var active = \"TagButtonWithCount-module--active--ce3a5\";\nexport var tagButton = \"TagButtonWithCount-module--tagButton--b55df\";","import clsx from 'clsx'\nimport type { KeyboardEvent, MouseEvent } from 'react'\n\nimport { getRefinedStringValue } from '@/utils'\n\nimport { TagButtonWithCount } from '../TagButtonWithCount'\nimport * as styles from './TagList.module.scss'\n\ntype TagListProps = {\n  tags: { fieldValue: string | null; totalCount: number }[]\n  selectedTag: string\n  clickTag: (e: MouseEvent<HTMLElement> | KeyboardEvent<HTMLElement>) => void\n  className?: string\n}\n\nexport const TagList = ({ tags, selectedTag, clickTag, className }: TagListProps) => (\n  <ul\n    className={clsx(styles.tagList, className)}\n    onClick={(e) => clickTag(e)}\n    onKeyDown={(e) => clickTag(e)}\n    role=\"presentation\"\n  >\n    {tags.map(({ fieldValue, totalCount }) => {\n      const value = getRefinedStringValue(fieldValue)\n\n      return (\n        <li key={value} className={styles.tagItem} data-tag={value}>\n          <TagButtonWithCount name={value} count={totalCount} isSelected={selectedTag === value} />\n        </li>\n      )\n    })}\n  </ul>\n)\n","// extracted by mini-css-extract-plugin\nexport var tagItem = \"TagList-module--tagItem--61853\";\nexport var tagList = \"TagList-module--tagList--da91f\";","// extracted by mini-css-extract-plugin\nexport var aside = \"Home-module--aside--79761\";\nexport var divider = \"Home-module--divider--97386\";\nexport var main = \"Home-module--main--4384c\";\nexport var postList = \"Home-module--postList--4f00e\";\nexport var shrinkSpace = \"Home-module--shrinkSpace--2ee2b\";\nexport var tagList = \"Home-module--tagList--c441a\";\nexport var wrapper = \"Home-module--wrapper--cbcbc\";","export const TAGS = {\n  ALL: 'All',\n} as const\n","import type { KeyboardEvent, MouseEvent } from 'react'\nimport { useCallback, useMemo, useState } from 'react'\n\nimport { TAGS } from '../constants'\n\nexport const useTag = (totalCount: number, group: Queries.HomeQuery['allMarkdownRemark']['group']) => {\n  const tags = useMemo(\n    () => [{ fieldValue: TAGS.ALL, totalCount }, ...group].sort((a, b) => b.totalCount - a.totalCount),\n    [group, totalCount]\n  )\n  const [selectedTag, setSelectedTag] = useState<string>(TAGS.ALL)\n  const clickTag = useCallback(({ target }: MouseEvent<HTMLElement> | KeyboardEvent<HTMLElement>) => {\n    if (!(target instanceof HTMLElement)) return\n    const $tagItem = target.closest('li')\n    if (!$tagItem) return\n    $tagItem?.dataset.tag && setSelectedTag($tagItem.dataset.tag)\n  }, [])\n\n  return { tags, selectedTag, clickTag }\n}\n","import type { HeadProps, PageProps } from 'gatsby'\n\nimport { FloatingButton, ProfileCard, Seo } from '@/components'\nimport { getRefinedStringValue } from '@/utils'\n\nimport { PostList, RecentPost, TagList } from './components'\nimport * as styles from './Home.module.scss'\nimport { usePostInfiniteScroll, useTag } from './hooks'\n\nconst Home = ({ data, location: { pathname } }: PageProps<Queries.HomeQuery>) => {\n  const { nodes: allPosts, totalCount, group } = data.allMarkdownRemark\n  const recentPosts = allPosts.slice(0, 2)\n  const { tags, selectedTag, clickTag } = useTag(totalCount, group)\n  const { visiblePosts } = usePostInfiniteScroll(allPosts, selectedTag, totalCount)\n\n  return (\n    <main className={styles.main}>\n      <aside className={styles.aside}>\n        <ProfileCard pathname={pathname} />\n      </aside>\n      <div className={styles.shrinkSpace}></div>\n      <section className={styles.wrapper}>\n        <RecentPost posts={recentPosts} />\n        <hr className={styles.divider}></hr>\n        <TagList tags={tags} selectedTag={selectedTag} clickTag={clickTag} className={styles.tagList} />\n        <PostList posts={visiblePosts} className={styles.postList} />\n      </section>\n      <FloatingButton />\n    </main>\n  )\n}\n\nexport const Head = ({ location: { pathname }, data: { site, file } }: HeadProps<Queries.HomeQuery>) => {\n  const seo = {\n    title: site?.siteMetadata.title,\n    description: site?.siteMetadata.description,\n    heroImage: getRefinedStringValue(file?.publicURL),\n  }\n\n  return <Seo title={seo.title} description={seo.description} heroImage={seo.heroImage} pathname={pathname}></Seo>\n}\n\nexport default Home\n","import { useEffect, useMemo, useState } from 'react'\n\nimport { $ } from '@/utils'\n\nimport { TAGS } from '../constants'\n\nexport const usePostInfiniteScroll = (\n  allPosts: Queries.HomeQuery['allMarkdownRemark']['nodes'],\n  selectedTag: string,\n  totalCount: number\n) => {\n  const posts = useMemo(\n    () => allPosts.filter(({ frontmatter: { tags } }) => selectedTag === TAGS.ALL || tags.includes(selectedTag)),\n    [allPosts, selectedTag]\n  )\n  const [displayedItems, setDisplayedItems] = useState(8)\n  const visiblePosts = posts.slice(0, displayedItems)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (!entries[0].isIntersecting) return\n\n        if (displayedItems <= totalCount) {\n          setDisplayedItems((prev) => prev + 8)\n        } else {\n          observer.disconnect()\n        }\n      },\n      { threshold: 0 }\n    )\n    observer.observe($<HTMLElement>('footer'))\n    return () => observer.disconnect()\n  }, [displayedItems, totalCount])\n\n  return { visiblePosts }\n}\n"],"names":["Date","_ref","date","className","_jsx","clsx","children","Description","description","TagList","tags","map","tag","Tag","name","Title","title","Post","variants","slug","heroImage","heroImageAlt","image","getRefinedImage","Link","to","match","with","_jsxs","GatsbyImage","alt","exhaustive","PostList","posts","_ref2","_heroImage$childImage","frontmatter","id","childImageSharp","gatsbyImageData","RecentPost","_Fragment","TagButtonWithCount","count","isSelected","onClick","selectedTag","clickTag","e","onKeyDown","role","fieldValue","totalCount","value","getRefinedStringValue","TAGS","ALL","Head","location","pathname","data","site","file","seo","siteMetadata","publicURL","Seo","nodes","allPosts","group","allMarkdownRemark","recentPosts","slice","useTag","useMemo","concat","_toConsumableArray","sort","a","b","setSelectedTag","useState","useCallback","target","HTMLElement","$tagItem","closest","dataset","visiblePosts","usePostInfiniteScroll","filter","includes","displayedItems","setDisplayedItems","useEffect","observer","IntersectionObserver","entries","isIntersecting","prev","disconnect","threshold","observe","$","ProfileCard","FloatingButton"],"sourceRoot":""}