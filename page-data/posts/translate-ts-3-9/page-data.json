{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/translate-ts-3-9/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>원글 링크: <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-9.html\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-9.html</a></p>\n</blockquote>\n<h2 id=\"promiseall과-추론-개선\">Promise.all과 추론 개선</h2>\n<p>최신 버전의 TS(약 3.7)은 <code class=\"language-text\">Promise.all</code> 및 <code class=\"language-text\">Promise.race</code>와 같은 함수 선언이 업데이트 되었다. 특히 <code class=\"language-text\">null</code> 또는 <code class=\"language-text\">undefined</code>와 값을 혼합할 때, 약간의 회귀가 발생했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Lion</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">roar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Seal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">singKissFromARose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">visitZoo</span><span class=\"token punctuation\">(</span>lionExhibit<span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>Lion<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> sealExhibit<span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>Seal <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>lion<span class=\"token punctuation\">,</span> seal<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token builtin\">Promise</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>lionExhibit<span class=\"token punctuation\">,</span> sealExhibit<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  lion<span class=\"token punctuation\">.</span><span class=\"token function\">roar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// uh oh</span>\n  <span class=\"token comment\">//  ~~~~</span>\n  <span class=\"token comment\">// Object is possibly 'undefined'.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 동작은 이상하다. <code class=\"language-text\">sealExhibit</code>가 <code class=\"language-text\">undefined</code>를 포함하는 것은 <code class=\"language-text\">lion</code>의 타입에 <code class=\"language-text\">undefined</code>를 포함하게 주입하는 것이다.</p>\n<p><a href=\"https://github.com/jablko\">Jack Bates</a>의 <a href=\"https://github.com/microsoft/TypeScript/pull/34501\">PR</a> 덕분에, TS 3.9의 추론 프로세스가 개선되었다. 위 오류는 더 이상 발생하지 않는다. <code class=\"language-text\">Promise</code>와 관련된 문제로 인해 이전 버전의 TS에서 고생했다면, 3.9를 사용하는 것이 좋을 것이다.</p>\n<h2 id=\"awaited-타입은-무엇인가\">awaited 타입은 무엇인가?</h2>\n<p>이슈 트래커와 설계 노트를 봐왔다면, <a href=\"https://github.com/microsoft/TypeScript/pull/35998\">awaited라는 새로운 연산자</a>에 대한 일부 작업을 알고 있을 것이다. 이 타입 연산자의 목표는 JS에서 <code class=\"language-text\">Promise</code>를 푸는 방식을 정확하게 모델링 하는 것이다.</p>\n<p>처음에는 TS 3.9에서 <code class=\"language-text\">awaited</code>을 제공할 것으로 예상했지만, 기존 코드 베이스와 함께 초기 TS 빌드를 실행함으로써 모든 사용자에게 원활하게 배포하기 전에 이 기능에 더 많은 설계 작업이 필요하다는 사실을 알았다. 결과적으로, 더 확실해질 때까지 메인 브랜치에서 이 기능을 빼기로 결정했다. 이 기능에 대해 더 많은 실험을 할 예정이지만, 이번 릴리스에서는 제공하지 않는다.</p>\n<h2 id=\"속도-향상\">속도 향상</h2>\n<p>TS 3.9는 많은 새로운 속도 향상 기능이 포함되어 있다. material-ui 및 styled-components와 같은 패키지를 사용할 때 편집/컴파일 속도가 매우 열악한 것을 확인한 후 성능에 중점을 두었다. 거대한 unions, intersections, 조건별 타입, 그리고 매핑된 타입과 관련된 특정 병리학적 사례를 최적화 하는 다양한 PR로 심층 분석했다.</p>\n<ul>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36576\">https://github.com/microsoft/TypeScript/pull/36576</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36590\">https://github.com/microsoft/TypeScript/pull/36590</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36607\">https://github.com/microsoft/TypeScript/pull/36607</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36622\">https://github.com/microsoft/TypeScript/pull/36622</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36754\">https://github.com/microsoft/TypeScript/pull/36754</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/36696\">https://github.com/microsoft/TypeScript/pull/36696</a></li>\n</ul>\n<p>이러한 각 PR은 특정 코드 베이스에서 컴파일 시간이 약 5-10% 단축된다. 전체적으로 material-ui의 컴파일 시간이 약 40% 단축되었다.</p>\n<p>또한 에디터 시나리오에서 파일 이름 변경 기능이 일부 변경되었다. VSCode 팀으로부터 파일 이름을 바꿀 때 어떤 import문을 업데이트해야 하는지 파악하는데 5초에서 10초가 소요될 수 있다고 들었다. TS 3.9는 <a href=\"https://github.com/microsoft/TypeScript/pull/37055\">컴파일러 및 언어 서비스가 파일 조회를 캐싱하는 방식의 내부 변경</a>을 통해 이 문제를 해결한다.</p>\n<p>여전히 개선의 여지가 있지만, 이 작업이 모든 사람들에게 보다 빠른 경험으로 이어지기를 바란다.</p>\n<h2 id=\"-ts-expect-error-주석\">// @ts-expect-error 주석</h2>\n<p>TS로 라이브러리를 작성하고 퍼블릭 API의 일부분으로 <code class=\"language-text\">doStuff</code>라는 함수를 export 한다고 상상해보자. TS 사용자가 타입-체크 오류를 받을 수 있도록 <code class=\"language-text\">doStuff</code> 함수의 타입은 두 개의 <code class=\"language-text\">string</code>을 갖는다고 선언하지만, 또한 JS 사용자에게 유용한 오류를 제공하기 위해 런타임 오류를 체크한다. (개발 빌드 시에만 가능).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">doStuff</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">abc</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">xyz</span><span class=\"token operator\">:</span> string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">assert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> abc <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">assert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> xyz <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// do some stuff</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그래서 TS 사용자는 함수를 잘못 사용할 경우 유용한 빨간 오류 밑줄과 오류 메시지를 받게 되며, JS 사용자는 단언 오류를 얻게 된다. 이러한 작동을 테스트하기 위해, 유닛 테스트를 작성하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">doStuff</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>불행히도 위의 테스트가 TS에서 작동된다면, TS는 오류를 발생시킬 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">doStuff</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//          ~~~</span>\n<span class=\"token comment\">// error: Type 'number' is not assignable to type 'string'.</span></code></pre></div>\n<p>그래서 TS 3.9는 <code class=\"language-text\">// @ts-expect-error</code> 주석이라는 새로운 기능을 도입했다. 라인 앞에 <code class=\"language-text\">// @ts-expect-error</code> 주석이 붙어있을 경우, TS는 해당 오류를 보고하는 것을 멈춘다. 그러나 오류가 존재하지 않으면, TS는 <code class=\"language-text\">// @ts-expect-error</code>가 필요하지 않다고 보고할 것이다.</p>\n<p>간단한 예로, 다음 코드는 괜찮다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// @ts-expect-error</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">47</span> <span class=\"token operator\">*</span> <span class=\"token string\">'octopus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그러나 다음 코드는</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// @ts-expect-error</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>오류로 이어질 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">Unused <span class=\"token string\">'@ts-expect-error'</span> directive<span class=\"token punctuation\">.</span></code></pre></div>\n<p>이 기능을 구현한 컨트리뷰터, <a href=\"https://github.com/JoshuaKGoldberg\">Josh Goldberg</a>에게 큰 감사를 드린다. 자세한 내용은 <a href=\"https://github.com/microsoft/TypeScript/pull/36014\">the ts-expect-error pull request</a>를 참고하라.</p>\n<h2 id=\"ts-ignore-또는-ts-expect-error-\">ts-ignore 또는 ts-expect-error ?</h2>\n<p>어떤 점에서는 <code class=\"language-text\">// @ts-expect-error</code> 가 <code class=\"language-text\">// @ts-ignore</code>와 유사하게 억제 주석(supressiong comment)로 작용할 수 있다. 차이점은 <code class=\"language-text\">// @ts-ignore</code>는 다음 행에 오류가 없을 경우 아무것도 하지 않는다는 것이다.</p>\n<p>기존 <code class=\"language-text\">// @ts-ignore</code> 주석을 <code class=\"language-text\">// @ts-expect-error</code>로 바꾸고 싶은 마음이 들 수 있으며, 향후 코드에 무엇이 적합한지 궁금할 수 있다. 이는 전적으로 당신과 당신 팀의 선택이지만, 어떤 상황에서 어떤 것을 선택할 것인지에 대한 몇 가지 아이디어를 아래에서 확인할 수 있다.</p>\n<p>다음 경우라면 <code class=\"language-text\">ts-expect-error</code>를 선택하라.</p>\n<ul>\n<li>타입 시스템이 기능에 대한 오류를 발생시키는 테스트 코드 작성을 원하는 경우</li>\n<li>수정이 빨리 이루어지길 원하며 빠른 해결책이 필요한 경우</li>\n<li>오류가 발생한 코드가 다시 유효해지면 바로 억제 주석을 삭제하길 원하는 혁신적인 팀이 이끄는 적당한-크기의 프로젝트에서 작업하는 경우</li>\n</ul>\n<p>다음 경우라면 <code class=\"language-text\">ts-ignore</code>를 선택하라.</p>\n<ul>\n<li>더 큰 프로젝트를 갖고 있고 코드에서 발생한 새로운 오류의 명확한 책임자를 찾기 힘든 경우</li>\n<li>TS의 두 가지 버전 사이에서 업그레이드하는 중이고, 한 버전에서는 코드 오류가 발생하지만 나머지 버전에서는 그렇지 않은 경우</li>\n<li>솔직히 어떤 옵션이 더 나은지 결정할 시간이 없는 경우</li>\n</ul>\n<h2 id=\"조건문에서-호출되지-않은-함수-체크\">조건문에서 호출되지 않은 함수 체크</h2>\n<p>TS 3.7에서 함수 호출을 잊어버렸을 경우 오류를 보고하기 위해 호출되지 않은 함수 체크를 도입했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">hasImportantPermissions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Oops!</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hasImportantPermissions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//  ~~~~~~~~~~~~~~~~~~~~~~~</span>\n  <span class=\"token comment\">// This condition will always return true since the function is always defined.</span>\n  <span class=\"token comment\">// Did you mean to call it instead?</span>\n  <span class=\"token function\">deleteAllTheImportantFiles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그러나 이 오류는 <code class=\"language-text\">if</code>문의 조건에만 적용된다. <a href=\"https://github.com/a-tarasyuk\">Alexander Tarasyuk</a>의 <a href=\"https://github.com/microsoft/TypeScript/pull/36402\">PR</a> 덕분에 이 기능은 삼항 조건 연산자에도 지원하게 되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token function\">listFilesOfDirectory</span><span class=\"token punctuation\">(</span>dirPath<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token function\">isDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getAllFiles</span><span class=\"token punctuation\">(</span>startFileName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> result<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">traverse</span><span class=\"token punctuation\">(</span>startFileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">traverse</span><span class=\"token punctuation\">(</span>currentPath<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> isDirectory\n      <span class=\"token operator\">?</span> <span class=\"token comment\">//     ~~~~~~~~~~~</span>\n        <span class=\"token comment\">// This condition will always return true</span>\n        <span class=\"token comment\">// since the function is always defined.</span>\n        <span class=\"token comment\">// Did you mean to call it instead?</span>\n        <span class=\"token function\">listFilesOfDirectory</span><span class=\"token punctuation\">(</span>currentPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>traverse<span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">:</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>currentPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://github.com/microsoft/TypeScript/issues/36048\">https://github.com/microsoft/TypeScript/issues/36048</a></p>\n<h2 id=\"에디터-개선\">에디터 개선</h2>\n<p>TS 컴파일러는 주요 에디터의 TS 작성 경험뿐만 아니라, Visual Studio 계열 에디터 또는 그 이상의 에디터에 JS 작성 경험에도 영향을 준다. 에디터에서 새로운 TS/JS 기능을 사용하는 것은 에디터에 따라 다르겠지만</p>\n<ul>\n<li>VSCode는 <a href=\"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-the-workspace-version-of-typescript\">다른 버전의 TS 선택</a>을 지원한다. 또는 최신으로 유지하기 위한 <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-typescript-next\">JS/TS Nightly Extension</a>도 있다.</li>\n<li>Visual Studio 2017/2019 에는 SDK 설치 프로그램과 <a href=\"https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild\">MSBuild 설치</a>가 있다.</li>\n<li>Sublime Text 3은 다른 버전의 TS 선택을 지원한다.</li>\n</ul>\n<h2 id=\"js에서-commonjs-자동-import\">JS에서 CommonJS 자동-import</h2>\n<p>CommonJS 모듈을 사용하는 JS 파일에서 자동-import 기능이 크게 개선되었다.</p>\n<p>이전 버전에서는, TS는 항상 파일에 관계없이 ECMAScript 스타일의 import를 원한다고 가정했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'fs'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그러나, 모든 사람들이 JS 파일을 작성할 때, ECMAScript 스타일의 모듈을 원하는 것은 아니다. 많은 사용자가 여전히 CommonJS 스타일의 <code class=\"language-text\">require(...)</code> import를 사용하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 TS는 파일 스타일을 깔끔하고 일관되게 유지하기 위해서 사용중인 import 유형을 자동으로 검색한다.</p>\n<p>이 변화에 대한 자세한 정보는 <a href=\"https://github.com/microsoft/TypeScript/pull/37027\">해당 PR</a>을 참고하라.</p>\n<h2 id=\"코드-작업-개행-유지\">코드 작업 개행 유지</h2>\n<p>TS의 리팩터링과 빠른 수정은 종종 개행을 유지하는데 큰 역할을 하지는 않았다. 기본적인 예로 다음 코드를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> maxValue <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*start*/</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> maxValue<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// First get the squared value.</span>\n  <span class=\"token keyword\">let</span> square <span class=\"token operator\">=</span> i <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Now print the squared value.</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/*end*/</span></code></pre></div>\n<p>에디터에서 <code class=\"language-text\">/*시작*/</code>에서 <code class=\"language-text\">/*끝*/</code>까지 범위를 강조하여 새로운 함수로 추출한다면, 다음과 같은 코드가 된다.</p>\n<blockquote>\n<p>이 부분은 TS 공식문서의 <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-9.html#code-actions-preserve-newlines\">첨부된 영상</a> 참고</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> maxValue <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">printSquares</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">printSquares</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> maxValue<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// First get the squared value.</span>\n    <span class=\"token keyword\">let</span> square <span class=\"token operator\">=</span> i <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Now print the squared value.</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이건 이상적이지 않다. - <code class=\"language-text\">for</code> 루프에서 각각의 문 사이에 빈 줄이 있었지만 리팩터링이 없애버렸다! TS 3.9은 우리가 작성한 것을 보존하기 위해 조금 더 신경을 쓴다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> maxValue <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">printSquares</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">printSquares</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> maxValue<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// First get the squared value.</span>\n    <span class=\"token keyword\">let</span> square <span class=\"token operator\">=</span> i <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Now print the squared value.</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://github.com/microsoft/TypeScript/pull/36688\">이 PR</a>에서 구현에 대해 더 자세히 볼 수 있다.</p>\n<h2 id=\"누락된-반환문-빠른-수정quick-fixes\">누락된 반환문 빠른 수정(quick fixes)</h2>\n<p>특히 화살표 함수에 중괄호를 추가할 때, 함수의 마지막 문의 값을 반환하는 것을 잊는 경우가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// before</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">f1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// oops - not the same!</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">f2</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>커뮤니티 멤버인 <a href=\"https://github.com/Kingwl\">Wenlu Wang</a>의 <a href=\"https://github.com/microsoft/TypeScript/pull/26434\">PR</a> 덕분에, TS는 누락된 <code class=\"language-text\">return</code>문을 추가하거나, 중괄호를 제거하거나, 객체 리터럴처럼 보이는 화살표 함수 몸체에 괄호를 추가하는 빠른 수정을 제공할 수 있다.</p>\n<h2 id=\"tsconfigjson-파일-솔루션-스타일-지원\">tsconfig.json 파일 '솔루션 스타일' 지원</h2>\n<p>에디터는 파일이 어떤 설정 파일에 속하는지 파악하여 적절한 옵션을 적용할 수 있도록 하고 현재 '프로젝트'에 어떤 다른 파일이 포함되어 있는지 파악해야 한다. 기본적으로, TS의 언어 서버가 영향을 주는 에디터는 각 상위 디렉터리를 따라 올라가 <code class=\"language-text\">tsconfig.json</code>을 찾음으로써 이 작업을 수행한다.</p>\n<p>이 문제가 약간 실패하는 경우 중 하나는 <code class=\"language-text\">tsconfig.json</code>이 단순히 다른 <code class=\"language-text\">tsconfig.json</code> 파일을 참조하기 위해 존재할 때였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.shared.json\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.frontend.json\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.backend.json\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다른 프로젝트 파일을 관리만 하는 이 파일은 어떤 환경에서는 종종 '솔루션'이라고 불린다. 여기서 <code class=\"language-text\">tsconfig.*.json</code>파일 중 어떤 파일도 서버에 의해 검색되지 않지만, 현재 <code class=\"language-text\">.ts</code>파일이 루트의 <code class=\"language-text\">tsconfig.json</code>에 언급된 프로젝트 중 하나에 속한다는 것을 언어 서버가 이해하기를 원한다.</p>\n<p>TS 3.9는 이 설정에 대한 시나리오 수정을 지원한다. 더 자세한 사항은 <a href=\"https://github.com/microsoft/TypeScript/pull/37239\">이 기능을 추가한 PR</a>을 확인하라.</p>\n<h2 id=\"주요-변경-사항\">주요 변경 사항</h2>\n<h3 id=\"옵셔널-체이닝과-널이-아닌-단언에서-파싱-차이점\">옵셔널 체이닝과 널이 아닌 단언에서 파싱 차이점</h3>\n<p>최근에 TS는 옵셔널 체이닝 연산자를 도입했지만, 널이 아닌 단언 연산자(<code class=\"language-text\">!</code>)와 함께 사용하는 선택적 체이닝(<code class=\"language-text\">?.</code>)의 동작이 매우 직관적이지 않다는 사용자 피드백을 받았다.</p>\n<p>구체적으로, 이전 버전에서는 코드가</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">foo<span class=\"token operator\">?.</span>bar<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span>baz<span class=\"token punctuation\">;</span></code></pre></div>\n<p>다음 JS와 동일하게 해석되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">(</span>foo<span class=\"token operator\">?.</span>bar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>baz<span class=\"token punctuation\">;</span></code></pre></div>\n<p>위의 코드에서 괄호는 옵셔널 체이닝의 '단축평가' 동작을 중단한다. 그래서 만약 <code class=\"language-text\">foo</code>가 <code class=\"language-text\">undefined</code>이면, <code class=\"language-text\">baz</code>에 접근하는 것은 런타임 오류를 발생시킨다.</p>\n<p>이 동작을 지적한 바벨 팀과 피드백을 준 대부분의 사용자들은 이 동작이 잘못되었다고 생각한다. <code class=\"language-text\">bar</code>의 타입에서 <code class=\"language-text\">null</code>과 <code class=\"language-text\">undefined</code>를 제거하는 것이 의도이기 때문에 가장 많이 들은 말은 <code class=\"language-text\">!</code> 연산자는 그냥 '사라져야 한다' 이다.</p>\n<p>즉, 대부분의 사람들은 원본 문장을 다음과 같이</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">foo<span class=\"token operator\">?.</span>bar<span class=\"token punctuation\">.</span>baz<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">foo</code>가 <code class=\"language-text\">undefined</code>일 때, 그냥 <code class=\"language-text\">undefined</code>로 평가하는 것으로 해석되어야 한다고 생각한다.</p>\n<p>이것이 주요 변경 사항이지만, 대부분의 코드가 새로운 해석을 염두에 두고 작성되었다고 생각한다. 이전 동작으로 되돌리고 싶은 사용자는 <code class=\"language-text\">!</code> 연산자 왼쪽에 명시적인 괄호를 추가할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">(</span>foo<span class=\"token operator\">?.</span>bar<span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">.</span>baz<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"와-는-이제-유효하지-않은-jsx-텍스트-문자이다\">}와 >는 이제 유효하지 않은 JSX 텍스트 문자이다.</h3>\n<p>JSX 명세서에는 텍스트 위치에 <code class=\"language-text\">}</code>와 <code class=\"language-text\">></code> 문자의 사용을 금지한다. TS와 바벨은 이 규칙을 더 적합하게 적용하기로 결정했다. 이 문자를 넣기 위한 새로운 방법은 HTML 이스케이프 코드를 사용하거나 (예를 들어, <code class=\"language-<span\"> 2 &amp;gt 1 &lt;/span</code>) 문자열 리터럴로 표현식을 넣는 것이다.(예를 들어, <code class=\"language-<span\"> 2 {&quot;</code>).</p>\n<p>다행히, <a href=\"https://github.com/bradzacher\">Brad Zacher</a>의 <a href=\"https://github.com/microsoft/TypeScript/pull/36636\">PR</a> 덕분에, 다음 문장과 함께 오류 메시지를 받을 수 있다.</p>\n<p>예를 들어</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> directions <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Navigate to<span class=\"token operator\">:</span> Menu Bar <span class=\"token operator\">></span> Tools <span class=\"token operator\">></span> Options<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token comment\">//                                           ~       ~</span>\n<span class=\"token comment\">// Unexpected token. Did you mean `{'>'}` or `>`?</span></code></pre></div>\n<p>이 오류 메시지는 편리한 빠른 수정과 함께 제공되고, <a href=\"https://github.com/a-tarasyuk\">Alexander Tarasyuk</a> 덕분에, 많은 오류가 있으면 <a href=\"https://github.com/microsoft/TypeScript/pull/37436\">이 변경사항을 일괄 적용</a>할 수 있다.</p>\n<h3 id=\"교집합과-선택적-프로퍼티에-대한-더-엄격해진-검사\">교집합과 선택적 프로퍼티에 대한 더 엄격해진 검사</h3>\n<p>일반적으로 <code class=\"language-text\">A &amp; B</code>와 같은 교차 타입은 <code class=\"language-text\">A</code> 또는 <code class=\"language-text\">B</code>가 <code class=\"language-text\">C</code>에 할당할 수 있으면, <code class=\"language-text\">A &amp; B</code>는 <code class=\"language-text\">C</code>에 할당할 수 있다. 하지만, 가끔 선택적 프로퍼티에서 문제가 생긴다. 예를 들어, 다음을 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token punctuation\">{</span>\n  a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'number' 인 것에 주목</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token punctuation\">{</span>\n  b<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\"><span class=\"token constant\">C</span></span> <span class=\"token punctuation\">{</span>\n  a<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'boolean' 인것에 주목</span>\n  b<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">let</span> x<span class=\"token operator\">:</span> <span class=\"token constant\">A</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">let</span> y<span class=\"token operator\">:</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">;</span>\ny <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이전 버전의 TS에서는 <code class=\"language-text\">A</code>가 <code class=\"language-text\">C</code>와 완전히 호환되지 않지만, <code class=\"language-text\">B</code>가 <code class=\"language-text\">C</code>와 호환되었기 때문에 허용되었다.</p>\n<p>TS 3.9에서는, 교집합 안에 모든 타입이 구체적인 객체 타입이면, 타입 시스템은 모든 프로퍼티를 한 번에 고려한다. 결과적으로, TS는 <code class=\"language-text\">A &amp; B</code>의 <code class=\"language-text\">a</code> 프로퍼티는 <code class=\"language-text\">C</code>의 <code class=\"language-text\">a</code> 프로퍼티와 호환되지 않는다고 본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">Type <span class=\"token string\">'A &amp; B'</span> <span class=\"token keyword\">is</span> not assignable to <span class=\"token keyword\">type</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">.</span>\n  Types <span class=\"token keyword\">of</span> property <span class=\"token string\">'a'</span> are incompatible<span class=\"token punctuation\">.</span>\n    Type <span class=\"token string\">'number'</span> <span class=\"token keyword\">is</span> not assignable to <span class=\"token keyword\">type</span> <span class=\"token string\">'boolean | undefined'</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>이 변경사항에 대한 자세한 정보는, <a href=\"https://github.com/microsoft/TypeScript/pull/37195\">해당 PR</a>을 참조하라.</p>\n<h3 id=\"판별-프로퍼티로-줄어든-교집합\">판별 프로퍼티로 줄어든 교집합</h3>\n<p>존재하지 않는 값을 기술하는 타입으로 끝날 수 있는 몇 가지 경우가 있다. 예를 들어</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">smushObjects</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">U</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n  kind<span class=\"token operator\">:</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">;</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Square</span> <span class=\"token punctuation\">{</span>\n  kind<span class=\"token operator\">:</span> <span class=\"token string\">'square'</span><span class=\"token punctuation\">;</span>\n  sideLength<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">let</span> x<span class=\"token operator\">:</span> Circle<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">let</span> y<span class=\"token operator\">:</span> Square<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token function\">smushObjects</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">.</span>kind<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 코드는 <code class=\"language-text\">Circle</code>과 <code class=\"language-text\">Square</code>의 교집합을 생성할 방법이 전혀 없기 때문에 약간 이상하다. - 호환되지 않는 두 <code class=\"language-text\">kind</code> 필드가 있다. 이전 버전의 TS에서는, 이 코드는 허용되었고 <code class=\"language-text\">\"circle\" &amp; \"square\"</code>가 <code class=\"language-text\">절대(never)</code> 존재할 수 없는 값의 집합을 기술했기 때문에 <code class=\"language-text\">kind</code> 자체의 타입은 <code class=\"language-text\">never</code>였다.</p>\n<p>TS 3.9에서는, 타입 시스템이 더 공격적이다. <code class=\"language-text\">kind</code> 프로퍼티 때문에 <code class=\"language-text\">Circle</code>과 <code class=\"language-text\">Square</code>를 교차하는 것이 불가능하다는 것을 알고 있다. 그래서 <code class=\"language-text\">z.kind</code>를 <code class=\"language-text\">never</code>로 축소하는 대신, <code class=\"language-text\">z</code> 자체(<code class=\"language-text\">Circle &amp; Square)</code> 타입을 <code class=\"language-text\">never</code>로 축소한다. 즉 위의 코드는 다음과 같은 오류가 발생한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">Property <span class=\"token string\">'kind'</span> does not exist on <span class=\"token keyword\">type</span> <span class=\"token string\">'never'</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>위에서 본 대부분의 오류는 약간의 잘못된 타입 선언에 대응하는 것으로 보인다. 자세한 내용은 <a href=\"https://github.com/microsoft/TypeScript/pull/36696\">원문 PR</a>을 보아라.</p>\n<h3 id=\"getterssetters는-더-이상-enumerable이-아니다\">Getters/Setters는 더 이상 Enumerable이 아니다.</h3>\n<p>이전 버전의 TS에서 클래스의 <code class=\"language-text\">get</code>과 <code class=\"language-text\">set</code> 접근자는 enumerable로 방출되었다. 그러나 이는, <code class=\"language-text\">get</code>과 <code class=\"language-text\">set</code>은 열거할 수 없다는 ECMAScript 사양을 따른 것이 아니었다. 결과적으로 ES5와 ES2015를 타겟팅 하는 TS 코드는 동작이 다를 수 있다.</p>\n<p>깃허브 사용자 <a href=\"https://github.com/pathurs\">pathurs</a>의 <a href=\"https://github.com/microsoft/TypeScript/pull/37195\">PR</a> 덕분에 TS 3.9는 이와 관련하여 ECMAScript와 더 밀접하게 호환된다.</p>\n<h3 id=\"any로-확장된-타입-매개변수는-더-이상-any처럼-행동하지-않음\">any로 확장된 타입 매개변수는 더 이상 any처럼 행동하지 않음</h3>\n<p>이전 버전의 TS에서 <code class=\"language-text\">any</code>로 제한된 타입 매개변수는 <code class=\"language-text\">any</code>로 다룰 수 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">foo</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arg<span class=\"token punctuation\">.</span>spfjgerijghoied<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 오류가 아님!</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이는 실수였다. 그래서 TS 3.9에서는 더 보수적인 접근을 취하고 이런 의심스러운 작업에 대해 오류를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">foo</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arg<span class=\"token punctuation\">.</span>spfjgerijghoied<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//  ~~~~~~~~~~~~~~~</span>\n  <span class=\"token comment\">// 'spfjgerijghoied' 프로퍼티는 'T' 타입에 존재하지 않습니다.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"export--은-항상-유지된다\">export * 은 항상 유지된다.</h3>\n<p>이전 TS 버전에서 <code class=\"language-text\">export * from 'foo'</code> 같은 선언은 <code class=\"language-text\">foo</code>가 어떠한 값도 export 하지 않으면 JS 출력에서 제외되었다.이런 내보내기는 타입 지향적이고 바벨에서 에뮬레이트 될 수 없기 때문에 문제가 된다. TS 3.9는 이런 <code class=\"language-text\">export *</code> 선언을 항상 내보낸다. 이 변화가 기존 코드에 영향을 줄 것이라고 생각하진 않는다.</p>\n<h3 id=\"더-많은-libdomdts-개선\">더 많은 libdom.d.ts 개선</h3>\n<p>Web IDL 파일에서 바로 TS의 내장 .d.ts 라이브러리가 생성될 수 있도록 DOM 규격의 TS의 내장 .d.ts 라이브러리를 옮기는 작업을 계속 진행하고 있다. 그 결과 미디어 액세스와 관련된 일부 벤더별 타입이 제거되었다.</p>\n<p>프로젝트의 ambient <code class=\"language-text\">*.d.ts</code> 파일에 이 파일을 추가하면 다시 복구할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HTMLVideoElement</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">msFrameStep</span><span class=\"token punctuation\">(</span>forward<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">msInsertVideoEffect</span><span class=\"token punctuation\">(</span>activatableClassId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> effectRequired<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">,</span> config<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">msSetVideoRectangle</span><span class=\"token punctuation\">(</span>left<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> top<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> right<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> bottom<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">webkitEnterFullScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">webkitEnterFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">webkitExitFullScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">webkitExitFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  msHorizontalMirror<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">readonly</span> msIsLayoutOptimalForPlayback<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">readonly</span> msIsStereo3D<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  msStereo3DPackingMode<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  msStereo3DRenderMode<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  msZoom<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  onMSVideoFormatChanged<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">:</span> HTMLVideoElement<span class=\"token punctuation\">,</span> ev<span class=\"token operator\">:</span> Event<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  onMSVideoFrameStepCompleted<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">:</span> HTMLVideoElement<span class=\"token punctuation\">,</span> ev<span class=\"token operator\">:</span> Event<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  onMSVideoOptimalLayoutChanged<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">:</span> HTMLVideoElement<span class=\"token punctuation\">,</span> ev<span class=\"token operator\">:</span> Event<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  webkitDisplayingFullscreen<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  webkitSupportsFullscreen<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">MediaError</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">readonly</span> msExtendedCode<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">readonly</span> <span class=\"token constant\">MS_MEDIA_ERR_ENCRYPTED</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"date":"23.01.07","description":"TypeScript 3.9 Release를 번역하면서 어떤 기능들이 전에 나왔는지 학습합니다.","heroImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVR42mOwD9z6n5qYgW4G2gVsgbMdgrb+dwiEYHQ5ogyEabD23fzf0nvTfwvvTXDaymczXA02g3G60NZ/y/+ozP3/43IP/k8tPvw/ufDw/5Tiw/+jsvb/t/HbQrqXQZqCk/f8z6489j+99Mj/+LyD/zPKjv6PyT7w39pvM3letvHb/N/SZ9N/cy+IdynyMkakQDFZkUJIE1kGkpsOAVDDx+dN5GA6AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png","srcSet":"/static/6952768edde771e3e65071afc7efe37d/a4d46/heroImage.png 175w,\n/static/6952768edde771e3e65071afc7efe37d/d8f52/heroImage.png 350w,\n/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png 700w","sizes":"(min-width: 700px) 700px, 100vw"},"sources":[{"srcSet":"/static/6952768edde771e3e65071afc7efe37d/eac4f/heroImage.webp 175w,\n/static/6952768edde771e3e65071afc7efe37d/a4795/heroImage.webp 350w,\n/static/6952768edde771e3e65071afc7efe37d/377b6/heroImage.webp 700w","type":"image/webp","sizes":"(min-width: 700px) 700px, 100vw"}]},"width":700,"height":350}}},"heroImageAlt":"타입스크립트","tags":["TypeScript","번역"],"title":"TypeScript 3.9 번역"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#promiseall%EA%B3%BC-%EC%B6%94%EB%A1%A0-%EA%B0%9C%EC%84%A0\">Promise.all과 추론 개선</a></p>\n</li>\n<li>\n<p><a href=\"#awaited-%ED%83%80%EC%9E%85%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\">awaited 타입은 무엇인가?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%86%8D%EB%8F%84-%ED%96%A5%EC%83%81\">속도 향상</a></p>\n</li>\n<li>\n<p><a href=\"#-ts-expect-error-%EC%A3%BC%EC%84%9D\">// @ts-expect-error 주석</a></p>\n</li>\n<li>\n<p><a href=\"#ts-ignore-%EB%98%90%EB%8A%94-ts-expect-error-\">ts-ignore 또는 ts-expect-error ?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A1%B0%EA%B1%B4%EB%AC%B8%EC%97%90%EC%84%9C-%ED%98%B8%EC%B6%9C%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%80-%ED%95%A8%EC%88%98-%EC%B2%B4%ED%81%AC\">조건문에서 호출되지 않은 함수 체크</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%97%90%EB%94%94%ED%84%B0-%EA%B0%9C%EC%84%A0\">에디터 개선</a></p>\n</li>\n<li>\n<p><a href=\"#js%EC%97%90%EC%84%9C-commonjs-%EC%9E%90%EB%8F%99-import\">JS에서 CommonJS 자동-import</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%BD%94%EB%93%9C-%EC%9E%91%EC%97%85-%EA%B0%9C%ED%96%89-%EC%9C%A0%EC%A7%80\">코드 작업 개행 유지</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%88%84%EB%9D%BD%EB%90%9C-%EB%B0%98%ED%99%98%EB%AC%B8-%EB%B9%A0%EB%A5%B8-%EC%88%98%EC%A0%95quick-fixes\">누락된 반환문 빠른 수정(quick fixes)</a></p>\n</li>\n<li>\n<p><a href=\"#tsconfigjson-%ED%8C%8C%EC%9D%BC-%EC%86%94%EB%A3%A8%EC%85%98-%EC%8A%A4%ED%83%80%EC%9D%BC-%EC%A7%80%EC%9B%90\">tsconfig.json 파일 '솔루션 스타일' 지원</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD\">주요 변경 사항</a></p>\n<ul>\n<li><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EC%B2%B4%EC%9D%B4%EB%8B%9D%EA%B3%BC-%EB%84%90%EC%9D%B4-%EC%95%84%EB%8B%8C-%EB%8B%A8%EC%96%B8%EC%97%90%EC%84%9C-%ED%8C%8C%EC%8B%B1-%EC%B0%A8%EC%9D%B4%EC%A0%90\">옵셔널 체이닝과 널이 아닌 단언에서 파싱 차이점</a></li>\n<li><a href=\"#%EC%99%80-%EB%8A%94-%EC%9D%B4%EC%A0%9C-%EC%9C%A0%ED%9A%A8%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-jsx-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%AC%B8%EC%9E%90%EC%9D%B4%EB%8B%A4\">}와 >는 이제 유효하지 않은 JSX 텍스트 문자이다.</a></li>\n<li><a href=\"#%EA%B5%90%EC%A7%91%ED%95%A9%EA%B3%BC-%EC%84%A0%ED%83%9D%EC%A0%81-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EB%8D%94-%EC%97%84%EA%B2%A9%ED%95%B4%EC%A7%84-%EA%B2%80%EC%82%AC\">교집합과 선택적 프로퍼티에 대한 더 엄격해진 검사</a></li>\n<li><a href=\"#%ED%8C%90%EB%B3%84-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EB%A1%9C-%EC%A4%84%EC%96%B4%EB%93%A0-%EA%B5%90%EC%A7%91%ED%95%A9\">판별 프로퍼티로 줄어든 교집합</a></li>\n<li><a href=\"#getterssetters%EB%8A%94-%EB%8D%94-%EC%9D%B4%EC%83%81-enumerable%EC%9D%B4-%EC%95%84%EB%8B%88%EB%8B%A4\">Getters/Setters는 더 이상 Enumerable이 아니다.</a></li>\n<li><a href=\"#any%EB%A1%9C-%ED%99%95%EC%9E%A5%EB%90%9C-%ED%83%80%EC%9E%85-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EB%8A%94-%EB%8D%94-%EC%9D%B4%EC%83%81-any%EC%B2%98%EB%9F%BC-%ED%96%89%EB%8F%99%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%8C\">any로 확장된 타입 매개변수는 더 이상 any처럼 행동하지 않음</a></li>\n<li><a href=\"#export--%EC%9D%80-%ED%95%AD%EC%83%81-%EC%9C%A0%EC%A7%80%EB%90%9C%EB%8B%A4\">export * 은 항상 유지된다.</a></li>\n<li><a href=\"#%EB%8D%94-%EB%A7%8E%EC%9D%80-libdomdts-%EA%B0%9C%EC%84%A0\">더 많은 libdom.d.ts 개선</a></li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"id":"b5b76b11-be0a-5c99-bfc4-c42c3d3b204c","frontmatter__slug":"/translate-ts-3-9","previous":"/translate-ts-4-0","previousTitle":"TypeScript 4.0 번역","next":"/translate-react-native-ts-first","nextTitle":"First-class Support for TypeScript 번역"}},"staticQueryHashes":["1485575810"],"slicesMap":{}}