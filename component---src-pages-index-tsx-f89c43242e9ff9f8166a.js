"use strict";(self.webpackChunkhustle_dev_blog=self.webpackChunkhustle_dev_blog||[]).push([[691],{562:function(e,t,a){a.r(t),a.d(t,{Head:function(){return I},default:function(){return b}});var l=a(9953),s=a(2043),c=a(7256),n=a(4923),o=a(8519),m=a(8425),r=a(169);const i=e=>{let{date:t,className:a}=e;return l.createElement("h3",{className:(0,n.Z)("Date-module--date--d4fbd",a)},t)};const d=e=>{let{description:t,className:a}=e;return l.createElement("p",{className:(0,n.Z)("Description-module--description--9ea1f",a)},t)};const u=e=>{let{tags:t,className:a}=e;return l.createElement("ul",{className:(0,n.Z)("TagList-module--tagList--d5cc6",a)},t.map((e=>l.createElement(s.Vp,{key:e,name:e}))))};const g=e=>{let{title:t,className:a}=e;return l.createElement("h3",{className:(0,n.Z)("Title-module--title--3663c",a)},t)};var p=a(6029);const E=e=>{let{variants:t,title:a,description:s,date:E,tags:N,slug:h,heroImage:f,heroImageAlt:v}=e;const L=(0,c.e3)(f);return l.createElement(o.Link,{to:"/posts"+h,className:"Post-module--articleLink--d1094"},(0,r.EQ)(t).with("card",(()=>l.createElement("article",{className:"Post-module--card--c936a"},l.createElement("figure",null,l.createElement(m.G,{image:L,alt:v,className:"Post-module--cardImage--37335"}),l.createElement("figcaption",{className:"Post-module--cardCaption--b686f"},l.createElement(i,{date:E,className:(0,n.Z)("Post-module--cardDate--b072f",p.B7)}),l.createElement(u,{tags:N,className:"Post-module--cardTagList--d2f12"}),l.createElement(g,{title:a,className:(0,n.Z)("Post-module--cardTitle--31c4d",p.H1)}),l.createElement(d,{description:s,className:(0,n.Z)("Post-module--cardDescription--9c3c1",p.B5)})))))).with("item",(()=>l.createElement("article",{className:"Post-module--item--25f91"},l.createElement("figure",{className:"Post-module--itemFigure--894b5"},l.createElement(m.G,{image:L,alt:v,className:"Post-module--itemImage--0bdef"}),l.createElement("figcaption",{className:"Post-module--itemCaption--04590"},l.createElement(u,{tags:N}),l.createElement(g,{title:a,className:(0,n.Z)("Post-module--itemTitle--5b5c6",p.T1)}),l.createElement(d,{description:s,className:(0,n.Z)("Post-module--itemDescription--8c7de",p.B5)}),l.createElement(i,{date:E,className:(0,n.Z)("Post-module--itemDate--dd369",p.B6)})))))).exhaustive())};const N=e=>{let{posts:t,className:a}=e;return l.createElement("ul",{className:(0,n.Z)("PostList-module--postList--f7183",a)},t.map((e=>{var t;let{frontmatter:{title:a,description:s,date:c,tags:n,slug:o,heroImage:m,heroImageAlt:r},id:i}=e;return l.createElement(E,{key:i,variants:"item",title:a,description:s,date:c,tags:n,slug:o,heroImage:null==m||null===(t=m.childImageSharp)||void 0===t?void 0:t.gatsbyImageData,heroImageAlt:r})})))};const h=e=>{let{posts:t}=e;return l.createElement(l.Fragment,null,l.createElement("h2",{className:(0,n.Z)("RecentPost-module--heading--e35dd",p.T2)},"New posts ðŸ“‘"),l.createElement("ul",{className:"RecentPost-module--recentPostList--d076e"},t.map((e=>{var t;let{frontmatter:{title:a,description:s,date:c,tags:n,slug:o,heroImage:m,heroImageAlt:r},id:i}=e;return l.createElement(E,{key:i,variants:"card",title:a,description:s,date:c,tags:n,slug:o,heroImage:null==m||null===(t=m.childImageSharp)||void 0===t?void 0:t.gatsbyImageData,heroImageAlt:r})}))))};const f=e=>{let{name:t,count:a,isSelected:s,onClick:c}=e;return l.createElement("button",{onClick:c,className:(0,n.Z)("TagButtonWithCount-module--tagButton--64c99",{"TagButtonWithCount-module--active--41c40":s})},l.createElement("span",{className:p.B5},t," (",a,")"))};const v=e=>{let{tags:t,selectedTag:a,clickTag:s,className:o}=e;return l.createElement("ul",{className:(0,n.Z)("TagList-module--tagList--bf40d",o),onClick:e=>s(e),onKeyDown:e=>s(e),role:"presentation"},t.map((e=>{let{fieldValue:t,totalCount:s}=e;const n=(0,c.cS)(t);return l.createElement("li",{key:n,className:"TagList-module--tagItem--6c929","data-tag":n},l.createElement(f,{name:n,count:s,isSelected:a===n}))})))},L={ALL:"All"};var P=a(609);var b=e=>{let{data:t,location:{pathname:a}}=e;const{nodes:n,totalCount:o,group:m}=t.allMarkdownRemark,r=n.slice(0,2),{tags:i,selectedTag:d,clickTag:u}=((e,t)=>{const a=(0,l.useMemo)((()=>[{fieldValue:L.ALL,totalCount:e}].concat((0,P.Z)(t)).sort(((e,t)=>t.totalCount-e.totalCount))),[t,e]),{0:s,1:c}=(0,l.useState)(L.ALL);return{tags:a,selectedTag:s,clickTag:(0,l.useCallback)((e=>{let{target:t}=e;if(!(t instanceof HTMLElement))return;const a=t.closest("li");a&&(null==a?void 0:a.dataset.tag)&&c(a.dataset.tag)}),[])}})(o,m),{visiblePosts:g}=((e,t,a)=>{const s=(0,l.useMemo)((()=>e.filter((e=>{let{frontmatter:{tags:a}}=e;return t===L.ALL||a.includes(t)}))),[e,t]),{0:n,1:o}=(0,l.useState)(8),m=s.slice(0,n);return(0,l.useEffect)((()=>{const e=new IntersectionObserver((t=>{t[0].isIntersecting&&(n<=a?o((e=>e+8)):e.disconnect())}),{threshold:0});return e.observe((0,c.$)("footer")),()=>e.disconnect()}),[n,a]),{visiblePosts:m}})(n,d,o);return l.createElement("main",{className:"Home-module--main--c9d7f"},l.createElement("aside",{className:"Home-module--aside--85fdc"},l.createElement(s.PP,{pathname:a})),l.createElement("div",{className:"Home-module--shrinkSpace--62acc"}),l.createElement("section",{className:"Home-module--wrapper--b5449"},l.createElement(h,{posts:r}),l.createElement("hr",{className:"Home-module--divider--1e899"}),l.createElement(v,{tags:i,selectedTag:d,clickTag:u,className:"Home-module--tagList--14f89"}),l.createElement(N,{posts:g,className:"Home-module--postList--2b55e"})),l.createElement(s.Tv,null))};const I=e=>{let{location:{pathname:t},data:{site:a,file:n}}=e;const o={title:null==a?void 0:a.siteMetadata.title,description:null==a?void 0:a.siteMetadata.description,heroImage:(0,c.cS)(null==n?void 0:n.publicURL)};return l.createElement(s.pQ,{title:o.title,description:o.description,heroImage:o.heroImage,pathname:t})}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-f89c43242e9ff9f8166a.js.map