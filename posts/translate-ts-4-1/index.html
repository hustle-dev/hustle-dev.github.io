<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.9"/><meta name="description" content="TypeScript 4.1 Release를 번역하면서 어떤 기능들이 전에 나왔는지 학습합니다." data-gatsby-head="true"/><meta name="image" content="https://hustle-dev.github.io/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png" data-gatsby-head="true"/><meta property="og:title" content="TypeScript 4.1 번역" data-gatsby-head="true"/><meta property="og:description" content="TypeScript 4.1 Release를 번역하면서 어떤 기능들이 전에 나왔는지 학습합니다." data-gatsby-head="true"/><meta property="og:type" content="blog" data-gatsby-head="true"/><meta property="og:url" content="https://hustle-dev.github.io/posts/translate-ts-4-1/" data-gatsby-head="true"/><meta property="og:image" content="https://hustle-dev.github.io/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="TypeScript 4.1 번역" data-gatsby-head="true"/><meta name="twitter:description" content="TypeScript 4.1 Release를 번역하면서 어떤 기능들이 전에 나왔는지 학습합니다." data-gatsby-head="true"/><meta property="twitter:image" content="https://hustle-dev.github.io/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png" data-gatsby-head="true"/><style data-href="/styles.8cd6f397222370435384.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap);*,:after,:before{box-sizing:border-box}*{margin:0}body,html{height:100%}body{-webkit-font-smoothing:antialiased;line-height:1.5}canvas,img,picture,svg,video{display:block;max-width:100%}button,input,select,textarea{font:inherit}h1,h2,h3,h4,h5,h6,p{overflow-wrap:break-word}#___gatsby{isolation:isolate}@font-face{font-display:block;font-family:Pretendard;font-style:normal;font-weight:700;src:url(/fonts/Pretendard-Bold.subset.woff2) format("woff2")}@font-face{font-display:block;font-family:Pretendard;font-style:normal;font-weight:600;src:url(/fonts/Pretendard-SemiBold.subset.woff2) format("woff2")}@font-face{font-display:block;font-family:Pretendard;font-style:normal;font-weight:500;src:url(/fonts/Pretendard-Medium.subset.woff2) format("woff2")}@font-face{font-display:block;font-family:Pretendard;font-style:normal;font-weight:400;src:url(/fonts/Pretendard-Regular.subset.woff2) format("woff2")}@font-face{font-display:block;font-family:Tenada;font-style:normal;font-weight:400;src:url(/fonts/Tenada.woff2) format("woff2")}:root{--primary-c1:#15af73;--primary-c2:#f7f2ef;--background:#fff;--tag-background:#fff;--article-background:#fff;--black:#151414;--gray-1:#f6f6f6;--gray-2:#c5c5c5;--gray-3:#9e9e9e;--gray-4:#747474;--gray-5:#2f2f2f;--gray-6:#232323;--icon-color:#000}[dark-mode]{--background:#2f2f2f;--tag-background:transparent;--article-background:#232323;--black:#151414;--gray-1:#fff;--gray-2:#c5c5c5;--gray-3:#aaa;--gray-4:#c5c5c5;--gray-5:#fff;--icon-color:#fff}::selection{background-color:rgba(21,175,115,.2)}body{background-color:var(--background);font-family:Pretendard,-apple-system,BlinkMacSystemFont,system-ui,Roboto,Helvetica Neue,Segoe UI,Apple SD Gothic Neo,Noto Sans KR,Malgun Gothic,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,sans-serif;transition:.1s}hr{background-color:var(--gray-2);border:0;display:block;height:.5px;margin-bottom:30px;margin-top:30px;width:100%}code[class*=language-],pre[class*=language-]{background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;tab-size:4}pre[class*=language-]{margin:.5em 0}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.entity{cursor:help}.token.inserted{color:green}code[class*=language-],pre[class*=language-]{word-wrap:normal;border-radius:5px;color:#d6deeb;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:.875rem;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:rgba(29,59,83,.99);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#011627;color:#fff;margin-bottom:16px;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{background-color:var(--tag-background);border:1px solid var(--primary-c1);border-radius:.2em;color:var(--primary-c1);margin:0 .2em;padding:.1em .4em;vertical-align:middle;white-space:normal}:not(pre)>code[class*=language-]::selection{background-color:rgba(21,175,115,.2)}h1 code[class*=language-],h2 code[class*=language-],h3 code[class*=language-],h4 code[class*=language-]{all:unset;font-family:Tenada}.token.cdata,.token.comment,.token.prolog{color:#637777;font-style:italic}.token.punctuation{color:#c792ea}.namespace{color:#b2ccd6}.token.deleted{color:rgba(239,83,80,.56);font-style:italic}.token.property,.token.symbol{color:#80cbc4}.token.keyword,.token.operator,.token.tag{color:#7fdbca}.token.boolean{color:#ff5874}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.doctype,.token.selector{color:#c792ea;font-style:italic}.token.attr-name,.token.inserted{color:#addb67;font-style:italic}.language-css .token.string,.style .token.string,.token.entity,.token.string,.token.url{color:#addb67}.token.atrule,.token.attr-value,.token.class-name{color:#ffcb8b}.token.important,.token.regex,.token.variable{color:#d6deeb}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.typography-module--D1--c5dd7{font-family:Tenada;font-size:2.1875rem;font-style:normal;font-weight:800}.typography-module--D2--adef4{font-size:1.6875rem;font-style:normal;font-weight:700;line-height:2.125rem}.typography-module--D3--32bdc{font-size:1.625rem;font-style:normal;font-weight:700;line-height:2.125rem}.typography-module--H1--8d71f{font-size:1.375rem;font-style:normal;font-weight:700;line-height:2rem}.typography-module--H2--9aa93{font-size:1.25rem;font-style:normal;font-weight:700;line-height:1.875rem}.typography-module--T1--21b4a{font-size:1.1875rem;font-style:normal;font-weight:700;line-height:1.75rem}.typography-module--T2--f0605{font-size:1.125rem;font-style:normal;font-weight:600;line-height:1.75rem}.typography-module--T3--5f413{font-size:1.125rem;font-style:normal;font-weight:500;line-height:1.75rem}.typography-module--B1--e72d9{font-size:1.0625rem;font-style:normal;font-weight:400;line-height:1.5625rem}.typography-module--B2--e1ec1{font-size:.9375rem;font-style:normal;font-weight:700;line-height:1.4375rem}.typography-module--B3--64106{font-size:.9375rem;font-style:normal;font-weight:600;line-height:1.4375rem}.typography-module--B4--714ca{font-size:.9375rem;font-style:normal;font-weight:500;line-height:1.4375rem}.typography-module--B5--b68ef{font-size:.875rem;font-style:normal;font-weight:600;line-height:1.25rem}.typography-module--B6--b4e62{font-size:.8125rem;font-style:normal;font-weight:500;line-height:1.25rem}.typography-module--B7--0ed9d{font-size:.8125rem;font-style:normal;font-weight:600;line-height:1.25rem}.Footer-module--footer--8e28d{margin:0 auto;max-width:1400px;min-width:260px;padding:50px 20px 20px;text-align:center}.Footer-module--copyRight--32cfc{color:var(--gray-3);font-size:1rem}.Footer-module--designedBy--c183b{color:var(--gray-2);display:block;font-size:.5rem;text-align:right;transition:.1s}@media screen and (min-width:31.25rem){.Footer-module--footer--8e28d{padding:50px 60px 20px}}.Header-module--header--c6522{min-width:300px}.Header-module--wrapper--ba41c{display:flex;justify-content:space-between;padding:20px}.Header-module--fixed--97e94{backdrop-filter:blur(5.5px);-webkit-backdrop-filter:blur(5.5px);background-color:hsla(0,0%,100%,.2);position:sticky;top:0;width:100%;z-index:1}.Header-module--progressBar--134e3{background-color:var(--primary-c1);height:2px;width:var(--progress-width)}.Header-module--headingLink--1bb02{text-decoration:none}.Header-module--headingWrapper--db6dc{align-items:center;display:flex;gap:8px}.Header-module--heading--f2604{color:var(--primary-c1);display:inline-block;font-family:Tenada;font-size:.8125rem;font-weight:800;line-height:1.125rem;margin-top:2px}.Header-module--headerButtons--2fba8{align-items:center;display:flex;gap:14px}.Header-module--iconButton--0e487{all:unset;cursor:pointer}.Header-module--iconButton--0e487:focus{border-radius:2px;outline:2px solid -webkit-focus-ring-color;outline-offset:1px}.Header-module--iconButton--0e487:focus:not(:focus-visible){outline:none}.Header-module--icon--f2202 path{fill:var(--icon-color);stroke:var(--icon-color)}@media screen and (min-width:31.25rem){.Header-module--wrapper--ba41c{padding:20px 60px}.Header-module--headerButtons--2fba8{gap:28px}}.NotFound-module--page--c1de4{color:#232129;font-family:-apple-system,Roboto,sans-serif,serif;padding:96px}.NotFound-module--heading--1a30c{margin-bottom:64px;margin-top:0;max-width:320px}.NotFound-module--paragraph--1c84a{margin-bottom:48px}.NotFound-module--code--782d2{background-color:#fff4db;border-radius:4px;color:#8a6534;font-size:1.25rem;padding:4px}.FloatingButton-module--floatingButton--e14d6{align-items:center;background-color:var(--primary-c1);border:0;border-radius:50%;bottom:50px;box-shadow:0 0 4px rgba(0,0,0,.25);cursor:pointer;display:flex;height:48px;justify-content:center;opacity:0;pointer-events:none;position:fixed;right:50px;transform:translateY(20px);transition:opacity .2s,transform .2s;width:48px;z-index:10}.FloatingButton-module--floatingButton--e14d6:hover{background-color:#15bc7c}.FloatingButton-module--floatingButton--e14d6.FloatingButton-module--visible--b1a10{opacity:1;pointer-events:auto;transform:translateY(0)}@media screen and (min-width:62.5rem){.FloatingButton-module--floatingButton--e14d6{height:64px;width:64px}}.Description-module--description--25e5f{color:var(--gray-3);margin-top:20px}.Heading-module--name--70a89{color:var(--primary-c1)}.IconWrapper-module--profileIcon--2b3ea{align-items:center;border-radius:30%;display:flex;height:30px;justify-content:center;transition:.1s;width:30px}.IconWrapper-module--profileIcon--2b3ea:hover{background-color:rgba(21,175,115,.1)}.ProfileCard-module--wrapper--66efd{display:flex;flex-direction:column;gap:20px;min-width:260px}@media screen and (min-width:410px){.ProfileCard-module--wrapper--66efd{flex-direction:row}}.ProfileCard-module--postProfileImage--5c59c{display:block;flex-shrink:0;height:100px;margin:0 10px 0 0;width:100px}.ProfileCard-module--postProfileImage--5c59c img{border-radius:50%}.ProfileCard-module--postDescription--cb677{height:46px;margin-top:0}.ProfileCard-module--iconWrapper--48ab7{display:flex;margin-top:16px}.ProfileCard-module--card--da57d{min-width:260px}@media screen and (min-width:62.5rem){.ProfileCard-module--card--da57d{max-width:260px}}.ProfileCard-module--info--cf56c{align-items:baseline;display:flex;gap:5px;margin-top:25px}.ProfileCard-module--profileImage--e831a img{border-radius:50%}.Tag-module--tag--85a9e{background-color:var(--tag-background);border:1px solid var(--primary-c1);border-radius:5px;color:var(--primary-c1);padding:0 12px 2px}.Date-module--date--d4fbd{color:var(--gray-4)}.Description-module--description--9ea1f{-webkit-box-orient:vertical;word-wrap:break-word;-webkit-line-clamp:2;color:var(--gray-3);display:-webkit-box;overflow:hidden;text-overflow:ellipsis}.TagList-module--tagList--d5cc6{display:flex;gap:5px;padding:0}.Title-module--title--3663c{color:var(--gray-5)}.Post-module--articleLink--d1094{text-decoration:none}.Post-module--articleLink--d1094 .Post-module--cardDate--b072f,.Post-module--articleLink--d1094 .Post-module--cardDescription--9c3c1,.Post-module--articleLink--d1094 .Post-module--cardTitle--31c4d,.Post-module--articleLink--d1094 .Post-module--itemDate--dd369,.Post-module--articleLink--d1094 .Post-module--itemDescription--8c7de,.Post-module--articleLink--d1094 .Post-module--itemTitle--5b5c6{text-decoration:underline;text-decoration-color:transparent;transition:.1s}.Post-module--articleLink--d1094:focus .Post-module--cardDate--b072f,.Post-module--articleLink--d1094:focus .Post-module--cardDescription--9c3c1,.Post-module--articleLink--d1094:focus .Post-module--cardTitle--31c4d,.Post-module--articleLink--d1094:focus .Post-module--itemDate--dd369,.Post-module--articleLink--d1094:focus .Post-module--itemDescription--8c7de,.Post-module--articleLink--d1094:focus .Post-module--itemTitle--5b5c6,.Post-module--articleLink--d1094:hover .Post-module--cardDate--b072f,.Post-module--articleLink--d1094:hover .Post-module--cardDescription--9c3c1,.Post-module--articleLink--d1094:hover .Post-module--cardTitle--31c4d,.Post-module--articleLink--d1094:hover .Post-module--itemDate--dd369,.Post-module--articleLink--d1094:hover .Post-module--itemDescription--8c7de,.Post-module--articleLink--d1094:hover .Post-module--itemTitle--5b5c6{text-decoration-color:var(--gray-5)}.Post-module--card--c936a{background-color:var(--article-background);border-radius:10px;box-shadow:0 3px 15px rgba(0,0,0,.1);flex:1 1 420px;height:420px;max-width:420px;min-width:325px;overflow:hidden}.Post-module--cardImage--37335{height:208px}.Post-module--cardImage--37335 img{border-top-left-radius:10px;border-top-right-radius:10px}.Post-module--cardCaption--b686f{padding:0 20px 28px;position:relative}.Post-module--cardDate--b072f{display:inline-block;position:absolute;right:20px;top:4px}.Post-module--cardTagList--d2f12{margin-top:23px;width:80%}.Post-module--cardTitle--31c4d{margin-left:4px;margin-top:20px}.Post-module--cardDescription--9c3c1{height:2.5rem;margin-left:4px;margin-top:20px;width:90%}.Post-module--item--25f91{background-color:var(--article-background);border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.1);flex:1 1;min-height:165px;min-width:300px;padding:20px;position:relative}.Post-module--itemFigure--894b5{display:flex;justify-content:space-between;width:100%}.Post-module--itemImage--0bdef{display:none!important;height:120px;min-width:190px;width:190px}.Post-module--itemImage--0bdef img{border-radius:10px}@media screen and (min-width:48.75rem){.Post-module--itemImage--0bdef{display:block!important}}.Post-module--itemCaption--04590{flex:1 1;flex-shrink:100000;order:-1;width:100%}.Post-module--itemTitle--5b5c6{word-wrap:break-word;margin-left:4px;margin-top:7px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80%}.Post-module--itemDescription--8c7de{height:2.5rem;margin-left:4px;margin-top:1px;width:80%}.Post-module--itemDate--dd369{bottom:20px;margin-left:4px;position:absolute}.PostList-module--postList--f7183{display:flex;flex-direction:column;gap:20px;padding:0}.RecentPost-module--heading--e35dd,.RecentPost-module--recentPostList--d076e{display:none}@media screen and (min-width:48.75rem){.RecentPost-module--heading--e35dd{color:var(--gray-5);display:block}.RecentPost-module--recentPostList--d076e{display:flex;gap:24px;list-style:none;margin-top:25px;padding:0}}.TagButtonWithCount-module--tagButton--64c99{background-color:transparent;border:1px solid var(--gray-2);border-radius:5px;color:var(--gray-2);cursor:pointer;padding:3px 12.5px 4px;transition:.1s}.TagButtonWithCount-module--active--41c40,.TagButtonWithCount-module--tagButton--64c99:hover{border-color:var(--primary-c1);color:var(--primary-c1)}.TagList-module--tagList--bf40d{display:flex;flex-wrap:wrap;gap:6px;list-style:none;padding:0}.TagList-module--tagItem--6c929{margin-top:15px}.Home-module--main--c9d7f{display:flex;flex-direction:column;margin-left:auto;margin-right:auto;margin-top:50px;max-width:1400px;padding:0 20px}.Home-module--wrapper--b5449{flex:1 1}.Home-module--divider--1e899{display:none}.Home-module--tagList--14f89{margin-top:20px}.Home-module--postList--2b55e{margin-top:35px}@media screen and (min-width:31.25rem){.Home-module--aside--85fdc,.Home-module--wrapper--b5449{padding:0 40px}}@media screen and (min-width:48.75rem){.Home-module--shrinkSpace--62acc{height:30px}.Home-module--divider--1e899{display:block;margin-bottom:20px;margin-top:45px}}@media screen and (min-width:62.5rem){.Home-module--main--c9d7f{flex-direction:row;padding:0 60px}.Home-module--aside--85fdc{margin-top:150px;padding:0}.Home-module--shrinkSpace--62acc{display:block;flex:1 1;max-width:150px;min-width:20px}.Home-module--wrapper--b5449{padding:0}}.TableOfContents-module--wrapper--bbb7b{border-left:2px solid var(--gray-2);display:none;margin-right:-80px;max-height:calc(100vh - 180px);max-width:320px;overflow-y:auto;padding:0 10px;position:sticky;top:90px}@media screen and (min-width:81.25rem){.TableOfContents-module--wrapper--bbb7b{display:block}}.TableOfContents-module--pen--0130b{margin-bottom:6px}.TableOfContents-module--tableOfContents--86e5d>ul{margin-left:auto;width:240px}.TableOfContents-module--tableOfContents--86e5d ul{list-style:none;padding:0}.TableOfContents-module--tableOfContents--86e5d ul ul{padding-left:10px}.TableOfContents-module--tableOfContents--86e5d li{margin-bottom:3px}.TableOfContents-module--tableOfContents--86e5d a{color:var(--gray-3);text-decoration:none;transition:.1s}.TableOfContents-module--tableOfContents--86e5d a:hover{color:var(--primary-c1)}.TableOfContents-module--tableOfContents--86e5d a,.TableOfContents-module--tableOfContents--86e5d code,.TableOfContents-module--tableOfContents--86e5d p{font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit}.TableOfContents-module--tableOfContents--86e5d code[class*=language-]{all:unset}.TableOfContents-module--tableOfContents--86e5d a.TableOfContents-module--active--9e400{color:var(--primary-c1);display:inline-block}.TagList-module--tagList--5d45f{display:flex;gap:5px;padding:0}.TagList-module--tag--97cb0{padding:3px 12.5px 6px}.Post-module--wrapper--0d882{margin:30px auto 0;max-width:800px;min-width:300px;padding:0 20px}.Post-module--title--b3d9d{color:var(--gray-5);font-size:1.875rem}.Post-module--date--d2ebe{color:var(--gray-4);font-size:1rem;margin-top:18px}.Post-module--tagList--67ec3{margin-top:25px}.Post-module--heroImage--434f0{margin-top:20px;max-height:400px;min-width:300px;width:100%}.Post-module--heroImage--434f0 img{border-radius:5px}.Post-module--contentWrapper--849fc{align-items:flex-start;display:flex;justify-content:space-between;min-width:300px;width:auto}@media screen and (min-width:1300px){.Post-module--contentWrapper--849fc{width:auto;width:940px}}.Post-module--mainText--c7254{--blockquote-bgColor:var(--article-background);--blockquote-color:var(--icon-color);color:var(--gray-5);font-size:1.125rem;line-height:1.5;margin-top:30px;max-width:680px;min-width:300px;word-break:break-all}.Post-module--mainText--c7254 a{color:var(--primary-c1);text-decoration:underline;text-decoration-color:transparent;transition:.1s}.Post-module--mainText--c7254 img{border-radius:5px}.Post-module--mainText--c7254 a:hover{text-decoration-color:var(--primary-c1)}.Post-module--mainText--c7254 blockquote{align-items:center;background-color:var(--blockquote-bgColor);border-radius:10px;box-shadow:0 0 7px rgba(0,0,0,.15);color:var(--blockquote-color);display:flex;gap:6px;margin-bottom:24px;margin-top:24px;padding:20px 18px 20px 15px}.Post-module--mainText--c7254 blockquote:before{content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='21' fill='none' viewBox='0 0 21 21'%3E%3Cpath fill='%2315AF73' d='M8.087 16.622h10.288v1.75H2.625v-3.713l8.662-8.662L15 9.71l-6.912 6.912ZM12.525 4.76l1.856-1.856a.875.875 0 0 1 1.237 0l2.475 2.475a.875.875 0 0 1 0 1.237l-1.856 1.856-3.712-3.712Z'/%3E%3C/svg%3E");height:21px;margin:10px;width:21px}.Post-module--mainText--c7254 :not(pre)>code[class*=language-]{padding:0 .4em}.Post-module--mainText--c7254 blockquote p{font-size:1rem;font-style:normal;font-weight:600;margin:0;word-break:break-all}.Post-module--mainText--c7254 p{display:block;margin-bottom:16px}.Post-module--mainText--c7254 h1{border-bottom:1px solid #eee;margin-bottom:16px;margin-top:28px}.Post-module--mainText--c7254 h2{border-bottom:1px solid #eee;margin-bottom:16px;margin-top:24px}.Post-module--mainText--c7254 h2 code[class*=language-]{padding:0}.Post-module--mainText--c7254 h3{margin-bottom:16px;margin-top:16px}.Post-module--mainText--c7254 h1,.Post-module--mainText--c7254 h2,.Post-module--mainText--c7254 h3{scroll-margin-top:73px}.Post-module--mainText--c7254 img{display:block;margin:0 auto}.Post-module--mainText--c7254 ol,.Post-module--mainText--c7254 ul{margin-bottom:16px}.Post-module--mainText--c7254 table{border:1px solid var(--primary-c1);border-collapse:collapse;border-radius:5px;font-size:.875rem;margin-bottom:.5em;margin-top:.5em;max-width:100%;min-width:40%}.Post-module--mainText--c7254 table tbody tr:nth-child(2n){background-color:rgba(21,175,115,.1)}.Post-module--mainText--c7254 table td,.Post-module--mainText--c7254 table th{border:1px solid var(--primary-c1);padding:.5em;word-break:break-all}.Post-module--mainText--c7254 tr>th{border-bottom:3px solid var(--primary-c1)}.Post-module--bio--f3d06{margin-bottom:50px;margin-top:60px}@media screen and (min-width:31.25rem){.Post-module--wrapper--0d882{margin-top:60px;padding:0 60px}}@media screen and (min-width:48.75rem){.Post-module--wrapper--0d882{margin-top:90px}}</style><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LDKTNNPSGB"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-LDKTNNPSGB', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=cf7a82b31395b147138599e756ed8027" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=cf7a82b31395b147138599e756ed8027"/><link rel="alternate" type="application/rss+xml" title="Hustle-dev Blog RSS Feed" href="/rss.xml"/><title data-gatsby-head="true">TypeScript 4.1 번역</title><link rel="canonical" href="https://hustle-dev.github.io/posts/translate-ts-4-1/" data-gatsby-head="true"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="Post-module--wrapper--0d882"><h1 class="typography-module--D2--adef4 Post-module--title--b3d9d">TypeScript 4.1 번역</h1><p class="typography-module--B7--0ed9d Post-module--date--d2ebe">23.02.14</p><ul class="TagList-module--tagList--5d45f Post-module--tagList--67ec3"><div class="Tag-module--tag--85a9e TagList-module--tag--97cb0"><span class="typography-module--B7--0ed9d">TypeScript</span></div><div class="Tag-module--tag--85a9e TagList-module--tag--97cb0"><span class="typography-module--B7--0ed9d">번역</span></div></ul><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained Post-module--heroImage--434f0"><div style="max-width:700px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;350&#x27;%20width=&#x27;700&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;object-fit:contain" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVR42mOwD9z6n5qYga4GOgRhx2QbaOO35b+Vz+b/Ft6b/1v6bPpv6b3pv5XvZvIMtPXf8j8q68D/+LyD/1NLjvxPKTr8P7X4yP/o7ANgOQdyDAxO3vs/p+rY//TSI/8T8g/9zyg7+j825wDY5bi8TpyXvSDepcjLyBHjGLSNOpEyKNIhAOZkyEi64JPsAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/6952768edde771e3e65071afc7efe37d/eac4f/heroImage.webp 175w,/static/6952768edde771e3e65071afc7efe37d/a4795/heroImage.webp 350w,/static/6952768edde771e3e65071afc7efe37d/377b6/heroImage.webp 700w" sizes="(min-width: 700px) 700px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:contain;opacity:0" sizes="(min-width: 700px) 700px, 100vw" decoding="async" loading="lazy" data-src="/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png" data-srcset="/static/6952768edde771e3e65071afc7efe37d/a4d46/heroImage.png 175w,/static/6952768edde771e3e65071afc7efe37d/d8f52/heroImage.png 350w,/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png 700w" alt="타입스크립트"/></picture><noscript><picture><source type="image/webp" srcSet="/static/6952768edde771e3e65071afc7efe37d/eac4f/heroImage.webp 175w,/static/6952768edde771e3e65071afc7efe37d/a4795/heroImage.webp 350w,/static/6952768edde771e3e65071afc7efe37d/377b6/heroImage.webp 700w" sizes="(min-width: 700px) 700px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:contain;opacity:0" sizes="(min-width: 700px) 700px, 100vw" decoding="async" loading="lazy" src="/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png" srcSet="/static/6952768edde771e3e65071afc7efe37d/a4d46/heroImage.png 175w,/static/6952768edde771e3e65071afc7efe37d/d8f52/heroImage.png 350w,/static/6952768edde771e3e65071afc7efe37d/18b2e/heroImage.png 700w" alt="타입스크립트"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="Post-module--contentWrapper--849fc"><section class="Post-module--mainText--c7254"><blockquote>
<p>원글 링크: <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html</a></p>
</blockquote>
<h2 id="템플릿-리터럴-타입">템플릿 리터럴 타입</h2>
<p>TS의 문자열 리터럴 타입은 특정한 문자열 집합을 요구하는 함수와 API를 모델링하는데 사용된다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span>location<span class="token operator">:</span> <span class="token string">'top'</span> <span class="token operator">|</span> <span class="token string">'middle'</span> <span class="token operator">|</span> <span class="token string">'bottom'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token string">'middel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Argument of type '"middel"' is not assignable to parameter of type '"top" | "middle" | "bottom"'.</span></code></pre></div>
<p>이는 문자열 리터럴 타입이 문자열 값의 철자 오류를 검사할 수 있기 때문에 꽤 유용하다.</p>
<p>또한 문자열 리터럴은 매핑된 타입에서 속성 이름으로 사용될 수 있다는 것도 좋은 점이다. 이런 면에서 문자열 리터럴은 구성 요소로서 사용될 수도 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Options</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token string">'noImplicitAny'</span> <span class="token operator">|</span> <span class="token string">'strictNullChecks'</span> <span class="token operator">|</span> <span class="token string">'strictFunctionTypes'</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// same as</span>
<span class="token comment">//   type Options = {</span>
<span class="token comment">//       noImplicitAny?: boolean,</span>
<span class="token comment">//       strictNullChecks?: boolean,</span>
<span class="token comment">//       strictFunctionTypes?: boolean</span>
<span class="token comment">//   };</span></code></pre></div>
<p>더하여 문자열 리터럴 타입은 다른 문자열 리터럴 타입을 구성하는 데에 사용될 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">World</span> <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Greeting</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>World<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// type Greeting = "hello world"</span></code></pre></div>
<p>치환 위치에서 유니온 타입이 있는 경우 유니온 멤버가 나타낼 수 있는 모든 가능한 문자열 리터럴 집합을 생성한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Color</span> <span class="token operator">=</span> <span class="token string">'red'</span> <span class="token operator">|</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Quantity</span> <span class="token operator">=</span> <span class="token string">'one'</span> <span class="token operator">|</span> <span class="token string">'two'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">SeussFish</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Quantity <span class="token operator">|</span> Color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> fish</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// type SeussFish = "one fish" | "two fish" | "red fish" | "blue fish"</span></code></pre></div>
<p>이러한 기능은 다음과 같은 상황에서 사용될 수 있다.
UI 컴포넌트를 위한 여러 라이브러리는 수직 및 수평 정렬을 모두 지정하는 방법을 제공한다. 종종 단일 문자열인 <code class="language-text">"bottom-right"</code>와 같이 둘 다를 한 번에 사용하는데, <code class="language-text">"top", "middle", "bottom"</code>으로 수직 정렬하고 <code class="language-text">"left", "center", "right"</code>으로 수평 정렬할 때, 총 9가지의 경우의 수가 나온다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">VerticalAlignment</span> <span class="token operator">=</span> <span class="token string">'top'</span> <span class="token operator">|</span> <span class="token string">'middle'</span> <span class="token operator">|</span> <span class="token string">'bottom'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">HorizontalAlignment</span> <span class="token operator">=</span> <span class="token string">'left'</span> <span class="token operator">|</span> <span class="token string">'center'</span> <span class="token operator">|</span> <span class="token string">'right'</span><span class="token punctuation">;</span>

<span class="token comment">// Takes</span>
<span class="token comment">//   | "top-left"    | "top-center"    | "top-right"</span>
<span class="token comment">//   | "middle-left" | "middle-center" | "middle-right"</span>
<span class="token comment">//   | "bottom-left" | "bottom-center" | "bottom-right"</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">setAlignment</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>VerticalAlignment<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>HorizontalAlignment<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token string">'top-left'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// works!</span>
<span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token string">'top-middel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error!</span>
<span class="token comment">// Argument of type '"top-middel"' is not assignable to parameter of type '"top-left" | "top-center" | "top-right" | "middle-left" | "middle-center" | "middle-right" | "bottom-left" | "bottom-center" | "bottom-right"'.</span>
<span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token string">'top-pot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error! but good doughnuts if you're ever in Seattle</span>
<span class="token comment">// Argument of type '"top-pot"' is not assignable to parameter of type '"top-left" | "top-center" | "top-right" | "middle-left" | "middle-center" | "middle-right" | "bottom-left" | "bottom-center" | "bottom-right"'.</span></code></pre></div>
<p>사실, 9개의 문자열에 대해서는 수동으로 작성하는 것이 더 나을 것이다. 그러나 많은 양의 문자열이 필요한 경우, 모든 타입 검사에 작업을 절약하기 위해 미리 자동으로 생성하는 것이 좋다.</p>
<p>실제 가치 중 일부는 동적으로 새로운 문자열 리터럴을 만드는 데서 온다. 예를 들어, 객체를 가져와 대부분 동일한 객체를 생성하지만 속성 변경을 감지하기 위한 새로운 on 메서드를 생성하는 makeWatchedObject API를 상상해보자.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">makeWatchedObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">'Homer'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token comment">// give-or-take</span>
  location<span class="token operator">:</span> <span class="token string">'Springfield'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'firstNameChanged'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">firstName was changed!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>"firstNameChanged"와 같은 이벤트를 수신하는 on 메서드의 타입을 어떻게 지정해야 할까?</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">PropEventSource<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">on</span><span class="token punctuation">(</span>eventName<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">Changed</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/// Create a "watched object" with an 'on' method</span>
<span class="token comment">/// so that you can watch for changes to properties.</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">makeWatchedObject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> PropEventSource<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>이를 통해 잘못된 속성을 제공할 때 오류가 발생하는 것을 만들 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// error!</span>
person<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"firstName"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Argument <span class="token keyword">of</span> <span class="token keyword">type</span> <span class="token string">'"firstName"'</span> <span class="token keyword">is</span> not assignable to parameter <span class="token keyword">of</span> <span class="token keyword">type</span> <span class="token string">'"firstNameChanged" | "ageChanged" | "locationChanged"'</span><span class="token punctuation">.</span>

<span class="token comment">// error!</span>
person<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"frstNameChanged"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Argument <span class="token keyword">of</span> <span class="token keyword">type</span> <span class="token string">'"frstNameChanged"'</span> <span class="token keyword">is</span> not assignable to parameter <span class="token keyword">of</span> <span class="token keyword">type</span> <span class="token string">'"firstNameChanged" | "ageChanged" | "locationChanged"'</span><span class="token punctuation">.</span></code></pre></div>
<p>템플릿 리터럴 타입에서도 치환 위치에서 추론하는 등의 특별한 것을 할 수 있다. 마지막 예제를 일반화하여 <code class="language-text">eventName</code> 문자열의 일부분에서 연관된 속성을 찾아내도록 유추할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">PropEventSource<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token generic-function"><span class="token function">on</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>eventName<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">K</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">Changed</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>newValue<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">makeWatchedObject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> PropEventSource<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">makeWatchedObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">'Homer'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  location<span class="token operator">:</span> <span class="token string">'Springfield'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works! 'newName' is typed as 'string'</span>
person<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'firstNameChanged'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// 'newName' has the type of 'firstName'</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">new name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works! 'newAge' is typed as 'number'</span>
person<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ageChanged'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newAge<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>newAge <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'warning! negative age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>여기서 on을 일반 메서드로 만들었다. 사용자가 <code class="language-text">"firstNameChanged"</code> 문자열로 호출하면 TypeScript는 K에 대한 적절한 타입을 추론하려고 한다. 이를 위해 "Changed" 이전의 내용과 K를 대조하여 <code class="language-text">"firstName"</code> 문자열을 추론한다. TypeScript가 이를 파악하면 on 메서드는 원래 객체에서 <code class="language-text">firstName</code>의 타입을 가져올 수 있고, 이 경우에는 string이다. 비슷하게 <code class="language-text">"ageChanged"</code>로 호출할 때는 숫자인 <code class="language-text">age</code> 속성의 타입을 찾는다).</p>
<p>추론은 종종 문자열을 분해하고 다른 방식으로 재구성하는 데 다양한 방식으로 결합될 수 있다. 사실, 이러한 문자열 리터럴 타입 수정을 돕기 위해 문자 케이싱을 수정하기 위한 새로운 유틸리티 타입 별칭 몇 개가 추가되었다(예 : 소문자 및 대문자 문자로 변환).</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">EnthusiasticGreeting<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Uppercase<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HELLO</span></span> <span class="token operator">=</span> EnthusiasticGreeting<span class="token operator">&lt;</span><span class="token string">'hello'</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// type HELLO = "HELLO"</span></code></pre></div>
<p>새로운 타입 별칭은 <code class="language-text">Uppercase</code>, <code class="language-text">Lowercase</code>, <code class="language-text">Capitalize</code> 및 <code class="language-text">Uncapitalize</code>이다. 처음 두 개는 문자열의 모든 문자를 변환하고, 나머지 두 개는 문자열의 첫 번째 문자만 변환한다.</p>
<h2 id="매핑된-타입의-키-재매핑">매핑된 타입의 키 재매핑</h2>
<p>매핑된 타입은 임의의 키 기반으로 새로운 객체 타입을 생성할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Options</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token string">'noImplicitAny'</span> <span class="token operator">|</span> <span class="token string">'strictNullChecks'</span> <span class="token operator">|</span> <span class="token string">'strictFunctionTypes'</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// same as</span>
<span class="token comment">//   type Options = {</span>
<span class="token comment">//       noImplicitAny?: boolean,</span>
<span class="token comment">//       strictNullChecks?: boolean,</span>
<span class="token comment">//       strictFunctionTypes?: boolean</span>
<span class="token comment">//   };</span></code></pre></div>
<p>또는 다른 객체 타입을 기반으로 새로운 객체 타입을 만들 수도 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">/// 'Partial&lt;T>' is the same as 'T', but with each property marked optional.</span>
<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>지금까지 매핑된 타입은 제공된 키를 기반으로만 새로운 객체 타입을 생성할 수 있었다. 그러나 대부분의 경우 입력에 기반하여 새로운 키를 만들거나 기존 키를 필터링하려는 경우가 많다.</p>
<p>이것이 TypeScript 4.1에서 새로운 <code class="language-text">as</code> 절을 사용하여 매핑된 타입에서 키를 다시 매핑할 수 있도록 허용하는 이유이다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">MappedTypeWithNewKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> NewKeyType<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">//            ^^^^^^^^^^^^^</span>
  <span class="token comment">//            This is the new syntax!</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>이 새로운 <code class="language-text">as</code> 절을 사용하면 템플릿 리터럴 타입과 같은 기능을 활용하여 기존 속성을 기반으로 속성 이름을 쉽게 만들 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Getters<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">get</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Capitalize<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token constant">K</span><span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">LazyPerson</span> <span class="token operator">=</span> Getters<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">LazyPerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function-variable function">getAge</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function-variable function">getLocation</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>또한, <code class="language-text">never</code>를 생성함으로써 키를 필터링할 수도 있다. 이는 경우에 따라 추가적인 <code class="language-text">Omit</code> 헬퍼 타입을 사용하지 않아도 된다는 것을 의미한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// Remove the 'kind' property</span>
<span class="token keyword">type</span> <span class="token class-name">RemoveKindField<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> Exclude<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token string">'kind'</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">;</span>
  radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">KindlessCircle</span> <span class="token operator">=</span> RemoveKindField<span class="token operator">&lt;</span>Circle<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// type KindlessCircle = {</span>
<span class="token comment">//     radius: number;</span>
<span class="token comment">// }</span></code></pre></div>
<h2 id="재귀-조건부-타입">재귀 조건부 타입</h2>
<p>JS에선 임의의 레벨에서 컨테이너 타입을 펼치고 빌드하는 함수를 자주 볼 수 있다. 예를 들어 <code class="language-text">Promise</code> 인스턴스의 <code class="language-text">.then()</code> 메서드를 생각해보자. <code class="language-text">.then(...)</code>은 'promise-like'이 아닌 값이 나올 때까지 각 프로미스를 풀고, 그 값을 콜백으로 전달한다. 또한 상대적으로 새로운 <code class="language-text">flat</code> 메서드가 있고, 이는 배열을 얼마나 깊이 펼칠지를 나타내는 depth를 사용할 수 있다.</p>
<p>TS의 타입 시스템에서 이를 표현하는 것은 사실상 불가능하다. 이를 구현하기 위한 해키한 기법이 있지만, 타입은 매우 불합리해 보인다.</p>
<p>그래서 TS 4.1은 조건부 타입에 대한 제한을 완하하여 이러한 패턴을 모델링할 수 있도록 했다. TS 4.1에서 조건부 타입은 이제 분기 안에서 즉시 자신을 참조할 수 있으므로, 재귀적인 타입 별칭을 작성하기가 더 쉬워졌다.</p>
<p>예를들어, 중첩된 배열의 요소 타입을 가져오는 타입을 작성하려면 다음 <code class="language-text">deepFlatten</code> 타입을 작성할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">ElementType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ReadonlyArray<span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">?</span> ElementType<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">deepFlatten</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> ElementType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token string">'not implemented'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// All of these return the type 'number[]':</span>
<span class="token function">deepFlatten</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">deepFlatten</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">deepFlatten</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>마찬가지로, TypeScript 4.1에서는 <code class="language-text">Promise</code>를 깊게 풀어내는 <code class="language-text">Awaited</code> 타입을 작성할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Awaited<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">PromiseLike<span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">?</span> Awaited<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">/// Like `promise.then(...)`, but more accurate in types.</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">customThen</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token function-variable function">onFulfilled</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> Awaited<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Awaited<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">>></span><span class="token punctuation">;</span></code></pre></div>
<p>이러한 재귀적인 타입은 강력하지만, 책임 있고 절제되게 사용해야 한다는 것을 염두에 두어야 한다.</p>
<p>첫째로, 이러한 타입은 많은 작업을 수행할 수 있으며, 이는 타입 체크 시간을 증가시킬 수 있다는 것을 의미한다. 콜라츠 추측이나 피보나치 수열의 숫자를 모델링하는 것은 재미있을 수 있지만, 이를 <code class="language-text">.d.ts</code> 파일에서 npm에 배포하는 것은 지양해야 한다.</p>
<p>또한 계산이 복잡할 뿐만 아니라, 이러한 타입은 충분히 복잡한 입력에 대해 내부 재귀 깊이 제한에 도달할 수 있다. 이 재귀 깊이 제한에 도달하면 컴파일 타임 오류가 발생한다. 일반적으로 실제적인 예제에서 실패하는 것보다는 이러한 타입을 사용하지 않는 것이 좋다.</p>
<h2 id="확인된-인덱스-액세스--nouncheckedindexedaccess">확인된 인덱스 액세스(<code class="language-text">--noUncheckedIndexedAccess</code>)</h2>
<p>TypeScript에는 인덱스 시그니처라는 기능이 있다. 이러한 시그니처는 사용자가 임의로 이름을 지정한 속성에 액세스할 수 있다는 것을 타입 시스템에 알리는 방법이다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Options</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  permissions<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  <span class="token comment">// Extra properties are caught by this index signature.</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">checkOptions</span><span class="token punctuation">(</span>opts<span class="token operator">:</span> Options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  opts<span class="token punctuation">.</span>path<span class="token punctuation">;</span> <span class="token comment">// string</span>
  opts<span class="token punctuation">.</span>permissions<span class="token punctuation">;</span> <span class="token comment">// number</span>

  <span class="token comment">// These are all allowed too!</span>
  <span class="token comment">// They have the type 'string | number'.</span>
  opts<span class="token punctuation">.</span>yadda<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  opts<span class="token punctuation">[</span><span class="token string">'foo bar baz'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  opts<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위 예제에서 <code class="language-text">Options</code>은 인덱스 시그니처를 갖고 있으며, 이미 나열된 속성이 아닌 모든 액세스 속성은 <code class="language-text">string | number</code> 타입을 가져야한다고 나타낸다. 이것은 자신이 무엇을하고 있는지 알고 있다고 가정하는 낙관적인 코드에 대해 편리하다. 그러나 대부분의 JavaScript 값은 모든 잠재적 속성 이름을 지원하지 않는다. 예를 들어, 이전 예제와 같이 <code class="language-text">Math.random()</code>에 의해 생성된 속성 키를 갖는 값은 대부분의 타입에서 지원되지 않는다. 많은 사용자들에게 이러한 동작은 원하지 않는 것이었으며, strictNullChecks의 전체 엄격한 검사를 활용하지 않는 것처럼 느껴졌다.</p>
<p>이것이 TypeScript 4.1에서 noUncheckedIndexedAccess라는 새로운 플래그가 제공되는 이유이다. 이 새로운 모드에서 모든 속성 액세스 (<code class="language-text">foo.bar</code>와 같은) 또는 인덱스 액세스 (<code class="language-text">foo["bar"]</code>와 같은)는 잠재적으로 정의되지 않은 것으로 간주된다. 즉, 마지막 예제에서 <code class="language-text">opts.yadda</code>는 <code class="language-text">string | number</code> 대신 <code class="language-text">string | number | undefined</code> 타입을 가지게된다. 그 속성에 액세스해야하는 경우, 먼저 존재 여부를 확인하거나 (후위 <code class="language-text">!</code> 문자) non-null 단언 연산자를 사용해야한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">checkOptions</span><span class="token punctuation">(</span>opts<span class="token operator">:</span> Options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  opts<span class="token punctuation">.</span>path<span class="token punctuation">;</span> <span class="token comment">// string</span>
  opts<span class="token punctuation">.</span>permissions<span class="token punctuation">;</span> <span class="token comment">// number</span>

  <span class="token comment">// These are not allowed with noUncheckedIndexedAccess</span>
  opts<span class="token punctuation">.</span>yadda<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object <span class="token keyword">is</span> possibly <span class="token string">'undefined'</span><span class="token punctuation">.</span>
  opts<span class="token punctuation">[</span><span class="token string">"foo bar baz"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object <span class="token keyword">is</span> possibly <span class="token string">'undefined'</span><span class="token punctuation">.</span>
  opts<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object <span class="token keyword">is</span> possibly <span class="token string">'undefined'</span><span class="token punctuation">.</span>

  <span class="token comment">// Checking if it's really there first.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>yadda<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opts<span class="token punctuation">.</span>yadda<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Basically saying "trust me I know what I'm doing"</span>
  <span class="token comment">// with the '!' non-null assertion operator.</span>
  opts<span class="token punctuation">.</span>yadda<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>noUncheckedIndexedAccess를 사용하면 경계 검사 반복문에서도 배열에 대한 인덱싱이 더 엄격하게 검사된다는 것이다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">screamLines</span><span class="token punctuation">(</span>strs<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// This will have issues</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> strs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Object is possibly 'undefined'.</span></code></pre></div>
<p>인덱스가 필요하지 않은 경우 <code class="language-text">for-of</code> 루프 또는 <code class="language-text">forEach</code> 호출을 사용하여 개별 요소를 반복할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">screamLines</span><span class="token punctuation">(</span>strs<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// This works fine</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> str <span class="token keyword">of</span> strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// This works fine</span>
  strs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>이 플래그는 범위를 벗어난 오류를 포착하는 데 유용할 수 있지만 많은 코드에서 노이즈가 많을 수 있으므로 strict 플래그에 의해 자동으로 활성화 되지 않는다. 그러나 이 기능이 흥미롭다면 자유롭게 사용해보고 팀의 코드베이스에 적합한지 판단해야 한다.</p>
<h2 id="baseurl이-없는-paths"><code class="language-text">baseUrl</code>이 없는 <code class="language-text">paths</code></h2>
<p>경로 매핑을 사용하는 것은 매우 일반적이다. 종종 <code class="language-text">imports</code>를 더 좋게 하기 위해, 모노레포 연결 동작을 시뮬레이션 하기 위해 사용한다.</p>
<p>불행하게도 경로 매핑을 사용하도록 경로를 지정하려면 <code class="language-text">baseUrl</code>이라는 옵션도 지정해야 했다. 이 옵션을 사용하면 기본 지정자 경로도 <code class="language-text">baseUrl</code>에 상대적으로 도달할 수 있다. 이로 인해 종종 자동-imports에서 잘못된 경로가 사용되었다.</p>
<p>TS 4.1에선 <code class="language-text">paths</code> 옵션을 <code class="language-text">baseUrl</code> 없이 사용할 수 있다. 이렇게 하면 이러한 문제 중 일부를 방지할 수 있다.</p>
<h2 id="checkjs는-allowjs를-함축한다"><code class="language-text">checkJs</code>는 <code class="language-text">allowJs</code>를 함축한다</h2>
<p>이전에는 체크된 JS 프로젝트를 시작하는 경우 <code class="language-text">allowJs</code>와 <code class="language-text">checkJs</code>를 모두 설정해야 했다. 이것은 약간 성가신 일이었기 때문에 <code class="language-text">checkJs</code>는 이제 기본적으로 <code class="language-text">allowJs</code>를 의미한다.</p>
<h2 id="react-17-jsx-factories">React 17 JSX Factories</h2>
<p>TypeScript 4.1에서는 jsx 컴파일러 옵션을 위해 두 개의 새로운 옵션을 지원한다. 이를 통해 React 17에서 새롭게 도입된 <code class="language-text">jsx</code>와 <code class="language-text">jsxs</code> 팩토리 함수를 지원한다.</p>
<ul>
<li><code class="language-text">react-jsx</code></li>
<li><code class="language-text">react-jsxdev</code></li>
</ul>
<p>이러한 옵션들은 각각 production 및 development 컴파일용으로 만들어졌다. 종종 하나의 옵션에서 다른 옵션을 확장할 수 있다. 예를 들어, <code class="language-text">tsconfig.json</code>은 다음과 같이 구성될 수 있다.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token comment">// ./src/tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es2015"</span><span class="token punctuation">,</span>
    <span class="token property">"jsx"</span><span class="token operator">:</span> <span class="token string">"react-jsx"</span><span class="token punctuation">,</span>
    <span class="token property">"strict"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"include"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./**/*"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>개발용 빌드는 다음과 같다.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token comment">// ./src/tsconfig.dev.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"extends"</span><span class="token operator">:</span> <span class="token string">"./tsconfig.json"</span><span class="token punctuation">,</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"jsx"</span><span class="token operator">:</span> <span class="token string">"react-jsxdev"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="에디터에서-jsdoc의-see-태그-지원">에디터에서 JSDoc의 <code class="language-text">@see</code> 태그 지원</h2>
<p>JSDoc 태그 <code class="language-text">@see</code>는 이제 TypeScript와 JavaScript 에디터에서 더 나은 지원을 받는다. 이를 통해 태그 뒤에 점(.)이 있는 이름에서 go-to-definition과 같은 기능을 사용할 수 있다. 예를 들어, 다음 예제의 JSDoc 주석에서 <code class="language-text">first</code> 또는 <code class="language-text">C</code>에서 정의로 이동하는 것이 가능하다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// @filename: first.ts</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// @filename: main.ts</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> first <span class="token keyword">from</span> <span class="token string">'./first'</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @see first.C
 */</span>
<span class="token keyword">function</span> <span class="token function">related</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<h2 id="breaking-changes">Breaking Changes</h2>
<h3 id="libdts-변경-사항"><code class="language-text">lib.d.ts</code> 변경 사항</h3>
<p><code class="language-text">lib.d.ts</code>의 변경된 API 세트에는 DOM 타입이 자동으로 생성되는 방식에 따라 일부 변화가 있을 수 있다. 한 가지 구체적인 변경 사항은 ES2016에서 제거되었기 때문에 <code class="language-text">Reflect.enumerate</code>가 제거되었다.</p>
<h3 id="abstract-멤버는-async로-마킹될-수-없다"><code class="language-text">abstract</code> 멤버는 <code class="language-text">async</code>로 마킹될 수 없다</h3>
<p><code class="language-text">abstract</code> 멤버로 표시된 멤버에는 더 이상 <code class="language-text">async</code>가 표시될 수 없다. 여기서 수정해야 할 부분은 <code class="language-text">async</code> 키워드를 제거하는 것이다. 호출자는 반환되는 타입에만 관심이 있기 때문이다.</p>
<h3 id="any--unknown-이-falsy-값-위치에서-전파됨"><code class="language-text">any</code> / <code class="language-text">unknown</code> 이 falsy 값 위치에서 전파됨</h3>
<p>이전에는 <code class="language-text">foo &amp;&amp; somethingElse</code>와 같은 식에서 <code class="language-text">foo</code>의 타입이 <code class="language-text">any</code> 또는 <code class="language-text">unknown</code>인 경우 전체 식의 타입은 <code class="language-text">somethingElse</code>의 타입이 되었다.</p>
<p>예를 들어, 이전에는 <code class="language-text">x</code>의 타입이 <code class="language-text">{ someProp: string }</code>이었다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">let</span> foo<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> somethingElse<span class="token operator">:</span> <span class="token punctuation">{</span> someProp<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> foo <span class="token operator">&amp;&amp;</span> somethingElse<span class="token punctuation">;</span></code></pre></div>
<p>그러나 TS 4.1에선 이 타입을 어떻게 결정할지 더 주의하기로 했다. <code class="language-text">&amp;&amp;</code>의 왼쪽에 있는 타입에 대해 알려진 것이 없으므로 오른쪽 타입 대신 <code class="language-text">any</code> 및 <code class="language-text">unknown</code>을 외부로 전파한다.</p>
<p>가장 일반적인 패턴은 특히 조건 함수에서 <code class="language-text">boolean</code>과의 호환성을 확인할 때이다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">isThing</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>blah <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>종종 적절한 수정은 <code class="language-text">foo &amp;&amp; someExpression</code>에서 <code class="language-text">!!foo &amp;&amp; someExpression</code>으로 전환하는 것이다.</p>
<h3 id="promise에서-resolve-의-매개변수는-더-이상-선택사항이-아니다"><code class="language-text">Promise</code>에서 <code class="language-text">resolve</code> 의 매개변수는 더 이상 선택사항이 아니다.</h3>
<p>다음과 같은 코드를 작성할 때</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>다음과 같은 오류가 발생할 수 있다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
<span class="token comment">// error TS2554: Expected 1 arguments, but got 0.</span>
<span class="token comment">//  An argument for 'value' was not provided.</span></code></pre></div>
<p>이는 <code class="language-text">resolve</code>에 더 이상 선택적 매개변수가 없기 때문에 기본적으로 값을 전달해야 한다. 이것은 <code class="language-text">Promise</code>를 사용하여 적합한 버그를 포착하는 경우가 많다. 일반적인 수정은 올바른 인수를 전달하고 때로는 명시적인 타입 인수를 추가하는 것이다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//     ^^^^^^^^</span>
  <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//      ^^^^^</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>그러나 때때로 <code class="language-text">resolve()</code>는 실제로 인수 없이 호출되어야 한다. 이러한 경우 <code class="language-text">Promise</code>에 명시적 <code class="language-text">void</code> 제네릭 형식 인수를 지정할 수 있다.(즉, <code class="language-text">Promise&lt;void></code>로 작성). 이는 잠재적으로 <code class="language-text">void</code>인 후행 매개변수가 선택 사항이 될 수 있는 TS 4.1의 새로운 기능을 활용한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//     ^^^^^^</span>
  <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>TS 4.1은 이 break를 수정하는 데 도움이 되는 빠른 수정과 함께 제공된다.</p>
<h3 id="조건부-스프레드는-선택적-속성을-생성한다">조건부 스프레드는 선택적 속성을 생성한다</h3>
<p>JS에서 <code class="language-text">{...foo}</code>와 같은 객체 스프레드는 잘못된 값에 대해 작동하지 않는다. 따라서 <code class="language-text">{...foo}</code>와 같은 코드에서 <code class="language-text">foo</code>는 <code class="language-text">null</code>이거나 <code class="language-text">undefined</code> 인 경우 건너뛴다.</p>
<p>많은 사용자가 이를 이용하여 '조건부' 속성을 spread 한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  owner<span class="token operator">:</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">copyOwner</span><span class="token punctuation">(</span>pet<span class="token operator">?</span><span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">(</span>pet <span class="token operator">&amp;&amp;</span> pet<span class="token punctuation">.</span>owner<span class="token punctuation">)</span><span class="token punctuation">,</span>
    otherStuff<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// We could also use optional chaining here:</span>
<span class="token keyword">function</span> <span class="token function">copyOwner</span><span class="token punctuation">(</span>pet<span class="token operator">?</span><span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>pet<span class="token operator">?.</span>owner<span class="token punctuation">,</span>
    otherStuff<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>여기에서 만약 <code class="language-text">pet</code>이 정의되면 <code class="language-text">pet.owner</code>의 속성이 spread된다. 그렇지 않으면 속성이 반환된 객체로 spread되지 않는다.</p>
<p><code class="language-text">copyOwner</code>의 반환 타입은 이전에 각 스프레드를 기반으로 하는 통합 타입이었다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">{ x: number } | { x: number, name: string, age: number, location: string }</code></pre></div>
<p>이는 연산이 발생하는 방식을 정확하게 모델링 했다. <code class="language-text">pet</code>이 정의된 경우 <code class="language-text">Person</code>의 모든 속성이 표시된다. 그렇지 않으면 결과에 정의되지 않는다. all or nothing한 방법이었다.</p>
<p>그러나 단일 객체에 수백 개의 스프레드가 있고 각각의 스프레드가 잠재적으로 수백 또는 수천 개의 속성을 추가하는 극단적인 패턴을 보았다. 여러가지 이유로 이것은 매우 비싸고 일반적으로 많은 이점이 없는 것으로 밝혀졌다.</p>
<p>TS 4.1에서 반환된 타입은 때때로 모든 선택적 속성을 사용한다.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    location<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>결과적으로 성능이 더 좋아지고 일반적으로 더 잘 표시된다.</p>
<p>현재 이 동작이 완전히 일관되지는 않지만 향후 릴리스에서는 보다 깨끗하고 예측 가능한 결과를 생성할 것으로 기대한다.</p>
<h3 id="일치하지-않는-매개변수는-더-이상-관련이-없다">일치하지 않는 매개변수는 더 이상 관련이 없다</h3>
<p>TS는 이전에 서로 일치하지 않는 매개변수를 <code class="language-text">any</code> 타입에 대응하였다. TS 4.1의 변경 사항으로 언어는 이제 이 프로세스를 건너뛴다. 이는 일부 할당 가능성 사례가 이제 실패하지만 일부 과부하 해결 사례도 실패할 수 있음을 의미한다. 예를 들어, Node.js의 <code class="language-text">util.promisify</code>에 대한 오버로드 해결은 TS 4.1에서 다른 오버로드를 선택할 수 있으며, 때때로 새롭거나 다른 오류 다운스트림을 유발할 수 있다.</p>
<p>이에 대한 해결방안으로 타입 단언을 사용하여 오류를 억제하는 것이 가장 좋다.</p></section><div class="TableOfContents-module--wrapper--bbb7b"><svg class="TableOfContents-module--pen--0130b" width="25" height="25" viewBox="0 0 25 25" fill="none"><g clip-path="url(#clip0_57_1249)"><path d="M15.8782 4.7029L8.85944 11.7206L8.12298 13.93L7.03965 15.0144L9.98548 17.9612L11.0688 16.8769L13.2792 16.1404L20.2969 9.12165L15.8782 4.7029ZM22.5074 8.38519C22.7026 8.58054 22.8123 8.84544 22.8123 9.12165C22.8123 9.39787 22.7026 9.66277 22.5074 9.85811L14.4042 17.9612L12.1959 18.6977L10.7219 20.1706C10.5266 20.3659 10.2617 20.4756 9.98548 20.4756C9.70927 20.4756 9.44436 20.3659 9.24902 20.1706L4.82923 15.7508C4.63395 15.5555 4.52425 15.2906 4.52425 15.0144C4.52425 14.7381 4.63395 14.4732 4.82923 14.2779L6.30215 12.805L7.03861 10.5956L15.1417 2.49249C15.3371 2.2972 15.602 2.1875 15.8782 2.1875C16.1544 2.1875 16.4193 2.2972 16.6146 2.49249L22.5074 8.38519ZM15.8782 7.64874L17.3511 9.12165L12.1949 14.2779L10.7219 12.805L15.8782 7.64874ZM4.46152 17.5935L7.40736 20.5404L5.93444 22.0133L1.51465 20.5404L4.46152 17.5935Z" fill="#15AF73"></path></g><defs><clipPath id="clip0_57_1249"><rect width="25" height="25" fill="white"></rect></clipPath></defs></svg><div class="TableOfContents-module--tableOfContents--86e5d typography-module--B7--0ed9d"><ul>
<li>
<p><a href="#%ED%85%9C%ED%94%8C%EB%A6%BF-%EB%A6%AC%ED%84%B0%EB%9F%B4-%ED%83%80%EC%9E%85">템플릿 리터럴 타입</a></p>
</li>
<li>
<p><a href="#%EB%A7%A4%ED%95%91%EB%90%9C-%ED%83%80%EC%9E%85%EC%9D%98-%ED%82%A4-%EC%9E%AC%EB%A7%A4%ED%95%91">매핑된 타입의 키 재매핑</a></p>
</li>
<li>
<p><a href="#%EC%9E%AC%EA%B7%80-%EC%A1%B0%EA%B1%B4%EB%B6%80-%ED%83%80%EC%9E%85">재귀 조건부 타입</a></p>
</li>
<li>
<p><a href="#%ED%99%95%EC%9D%B8%EB%90%9C-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%95%A1%EC%84%B8%EC%8A%A4--nouncheckedindexedaccess">확인된 인덱스 액세스(<code class="language-text">--noUncheckedIndexedAccess</code>)</a></p>
</li>
<li>
<p><a href="#baseurl%EC%9D%B4-%EC%97%86%EB%8A%94-paths"><code class="language-text">baseUrl</code>이 없는 <code class="language-text">paths</code></a></p>
</li>
<li>
<p><a href="#checkjs%EB%8A%94-allowjs%EB%A5%BC-%ED%95%A8%EC%B6%95%ED%95%9C%EB%8B%A4"><code class="language-text">checkJs</code>는 <code class="language-text">allowJs</code>를 함축한다</a></p>
</li>
<li>
<p><a href="#react-17-jsx-factories">React 17 JSX Factories</a></p>
</li>
<li>
<p><a href="#%EC%97%90%EB%94%94%ED%84%B0%EC%97%90%EC%84%9C-jsdoc%EC%9D%98-see-%ED%83%9C%EA%B7%B8-%EC%A7%80%EC%9B%90">에디터에서 JSDoc의 <code class="language-text">@see</code> 태그 지원</a></p>
</li>
<li>
<p><a href="#breaking-changes">Breaking Changes</a></p>
<ul>
<li><a href="#libdts-%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD"><code class="language-text">lib.d.ts</code> 변경 사항</a></li>
<li><a href="#abstract-%EB%A9%A4%EB%B2%84%EB%8A%94-async%EB%A1%9C-%EB%A7%88%ED%82%B9%EB%90%A0-%EC%88%98-%EC%97%86%EB%8B%A4"><code class="language-text">abstract</code> 멤버는 <code class="language-text">async</code>로 마킹될 수 없다</a></li>
<li><a href="#any--unknown-%EC%9D%B4-falsy-%EA%B0%92-%EC%9C%84%EC%B9%98%EC%97%90%EC%84%9C-%EC%A0%84%ED%8C%8C%EB%90%A8"><code class="language-text">any</code> / <code class="language-text">unknown</code> 이 falsy 값 위치에서 전파됨</a></li>
<li><a href="#promise%EC%97%90%EC%84%9C-resolve-%EC%9D%98-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EB%8A%94-%EB%8D%94-%EC%9D%B4%EC%83%81-%EC%84%A0%ED%83%9D%EC%82%AC%ED%95%AD%EC%9D%B4-%EC%95%84%EB%8B%88%EB%8B%A4"><code class="language-text">Promise</code>에서 <code class="language-text">resolve</code> 의 매개변수는 더 이상 선택사항이 아니다.</a></li>
<li><a href="#%EC%A1%B0%EA%B1%B4%EB%B6%80-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EB%8A%94-%EC%84%A0%ED%83%9D%EC%A0%81-%EC%86%8D%EC%84%B1%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%9C%EB%8B%A4">조건부 스프레드는 선택적 속성을 생성한다</a></li>
<li><a href="#%EC%9D%BC%EC%B9%98%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EB%8A%94-%EB%8D%94-%EC%9D%B4%EC%83%81-%EA%B4%80%EB%A0%A8%EC%9D%B4-%EC%97%86%EB%8B%A4">일치하지 않는 매개변수는 더 이상 관련이 없다</a></li>
</ul>
</li>
</ul></div></div></div><section class="Post-module--bio--f3d06"><div class="ProfileCard-module--wrapper--66efd"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained ProfileCard-module--postProfileImage--5c59c"><div style="max-width:100px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;100&#x27;%20width=&#x27;100&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#d8d8e8;position:absolute;top:0;left:0;bottom:0;right:0;object-fit:fill"></div><picture><source type="image/webp" data-srcset="/static/b10e8f2b1ae0054584b80cce2ee4067e/2fa99/elon.webp 25w,/static/b10e8f2b1ae0054584b80cce2ee4067e/dbc4a/elon.webp 50w,/static/b10e8f2b1ae0054584b80cce2ee4067e/d8057/elon.webp 100w,/static/b10e8f2b1ae0054584b80cce2ee4067e/2e34e/elon.webp 200w" sizes="(min-width: 100px) 100px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;opacity:0" sizes="(min-width: 100px) 100px, 100vw" decoding="async" loading="lazy" data-src="/static/b10e8f2b1ae0054584b80cce2ee4067e/e07e1/elon.jpg" data-srcset="/static/b10e8f2b1ae0054584b80cce2ee4067e/74ef0/elon.jpg 25w,/static/b10e8f2b1ae0054584b80cce2ee4067e/6ac16/elon.jpg 50w,/static/b10e8f2b1ae0054584b80cce2ee4067e/e07e1/elon.jpg 100w,/static/b10e8f2b1ae0054584b80cce2ee4067e/dd515/elon.jpg 200w" alt="일론 머스크"/></picture><noscript><picture><source type="image/webp" srcSet="/static/b10e8f2b1ae0054584b80cce2ee4067e/2fa99/elon.webp 25w,/static/b10e8f2b1ae0054584b80cce2ee4067e/dbc4a/elon.webp 50w,/static/b10e8f2b1ae0054584b80cce2ee4067e/d8057/elon.webp 100w,/static/b10e8f2b1ae0054584b80cce2ee4067e/2e34e/elon.webp 200w" sizes="(min-width: 100px) 100px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;opacity:0" sizes="(min-width: 100px) 100px, 100vw" decoding="async" loading="lazy" src="/static/b10e8f2b1ae0054584b80cce2ee4067e/e07e1/elon.jpg" srcSet="/static/b10e8f2b1ae0054584b80cce2ee4067e/74ef0/elon.jpg 25w,/static/b10e8f2b1ae0054584b80cce2ee4067e/6ac16/elon.jpg 50w,/static/b10e8f2b1ae0054584b80cce2ee4067e/e07e1/elon.jpg 100w,/static/b10e8f2b1ae0054584b80cce2ee4067e/dd515/elon.jpg 200w" alt="일론 머스크"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div><h1 class="Heading-module--name--70a89 typography-module--D1--c5dd7">Hustle-dev</h1><p class="Description-module--description--25e5f typography-module--B3--64106 ProfileCard-module--postDescription--cb677">It is possible for ordinary people to choose to be extraordinary.</p><div class="ProfileCard-module--iconWrapper--48ab7"><a href="mailto:dlwoabsdk@gmail.com" target="_blank" class="IconWrapper-module--profileIcon--2b3ea" rel="noreferrer"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="my-class"><path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 6L12 13L2 6" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path></svg></a><a href="https://www.facebook.com/jeongminiminimini/" target="_blank" class="IconWrapper-module--profileIcon--2b3ea" rel="noreferrer"><svg width="15" height="25" viewBox="0 0 15 25" fill="none" class="my-class"><path d="M13.375 1H10C8.50816 1 7.07742 1.59263 6.02252 2.64752C4.96763 3.70242 4.375 5.13316 4.375 6.625V10H1V14.5H4.375V23.5H8.875V14.5H12.25L13.375 10H8.875V6.625C8.875 6.32663 8.99353 6.04048 9.2045 5.82951C9.41548 5.61853 9.70163 5.5 10 5.5H13.375V1Z" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path></svg></a><a href="https://www.linkedin.com/in/jeongmin-lee-5ab898202/" target="_blank" class="IconWrapper-module--profileIcon--2b3ea" rel="noreferrer"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="my-class"><path d="M16.6667 8.33301C18.3244 8.33301 19.9141 8.99149 21.0862 10.1636C22.2583 11.3357 22.9167 12.9254 22.9167 14.583V21.8747H18.7501V14.583C18.7501 14.0305 18.5306 13.5006 18.1399 13.1099C17.7492 12.7192 17.2193 12.4997 16.6667 12.4997C16.1142 12.4997 15.5843 12.7192 15.1936 13.1099C14.8029 13.5006 14.5834 14.0305 14.5834 14.583V21.8747H10.4167V14.583C10.4167 12.9254 11.0752 11.3357 12.2473 10.1636C13.4194 8.99149 15.0091 8.33301 16.6667 8.33301Z" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.24992 9.375H2.08325V21.875H6.24992V9.375Z" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4.16659 6.24967C5.31718 6.24967 6.24992 5.31693 6.24992 4.16634C6.24992 3.01575 5.31718 2.08301 4.16659 2.08301C3.01599 2.08301 2.08325 3.01575 2.08325 4.16634C2.08325 5.31693 3.01599 6.24967 4.16659 6.24967Z" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path></svg></a><a href="https://github.com/hustle-dev" target="_blank" class="IconWrapper-module--profileIcon--2b3ea" rel="noreferrer"><svg width="19" height="21" viewBox="0 0 19 21" fill="none" class="my-class"><path d="M7.10256 17.2892C2.74359 18.6446 2.74359 15.0302 1 14.5783M13.2051 20V16.503C13.2378 16.0722 13.1817 15.639 13.0404 15.2324C12.8991 14.8257 12.6759 14.4549 12.3856 14.1446C15.1231 13.8284 18 12.7531 18 7.81935C17.9998 6.55776 17.5316 5.34454 16.6923 4.43082C17.0897 3.32706 17.0616 2.10705 16.6138 1.02421C16.6138 1.02421 15.5851 0.707947 13.2051 2.36155C11.207 1.80025 9.10071 1.80025 7.10256 2.36155C4.72256 0.707947 3.69385 1.02421 3.69385 1.02421C3.24607 2.10705 3.21797 3.32706 3.61538 4.43082C2.76985 5.35132 2.30117 6.5755 2.30769 7.84646C2.30769 12.744 5.18462 13.8193 7.92205 14.1717C7.63523 14.4789 7.41402 14.8453 7.27283 15.2469C7.13164 15.6486 7.07363 16.0766 7.10256 16.503V20" stroke="#15AF73" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></div></div></div></section><div id="comment"></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/translate-ts-4-1/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-1d3b8f7a8774616aace5.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-fae6ddb73bc791f69af0.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-3fb5d9fea4fa06800343.js\"],\"component---src-templates-post-tsx\":[\"/component---src-templates-post-tsx-1bb28736876d6add9552.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="392d938c89dade4d3254";</script><script src="/webpack-runtime-50eb4651b59c1958dff3.js" async></script><script src="/framework-19cbca010d802df90a2c.js" async></script><script src="/app-1d3b8f7a8774616aace5.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>